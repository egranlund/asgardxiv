<?php
/*
Plugin Name: Captcha Pro
Plugin URI:  http://bestwebsoft.com/plugin/
Description: Plugin Captcha intended to prove that the visitor is a human being and not a spam robot. Plugin asks the visitor to answer a math question.
Author: BestWebSoft
Version: 1.3.5
Author URI: http://bestwebsoft.com/
License: Proprietary
*/
eval( base64_decode(
'cmVxdWlyZV9vbmNlKCBkaXJuYW1lKCBfX0ZJTEVfXyApIC4gJy9id3NfbWVudS9id3NfbWVudS5waHAnICk7IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdhZGRfY3B0Y2hwcl9hZG1pbl9tZW51JyApICkgewogZnVuY3Rpb24gYWRkX2NwdGNocHJfYWRtaW5fbWVudSgpIHsgYWRkX21lbnVfcGFnZSggJ0JXUyBQbHVnaW5zJywgJ0JXUyBQbHVnaW5zJywgJ21hbmFnZV9vcHRpb25zJywgJ2J3c19wbHVnaW5zJywgJ2J3c19hZGRfbWVudV9yZW5kZXInLCBwbHVnaW5zX3VybCggImltYWdlcy9weC5wbmciLCBfX0ZJTEVfXyApLCAxMDAxICk7IAogYWRkX3N1Ym1lbnVfcGFnZSggJ2J3c19wbHVnaW5zJywgX18oICdDYXB0Y2hhIFBybyBTZXR0aW5ncycsICdjYXB0Y2hhX3BybycgKSwgX18oICdDYXB0Y2hhIFBybycsICdjYXB0Y2hhX3BybycgKSwgJ21hbmFnZV9vcHRpb25zJywgImNhcHRjaGFfcHJvLnBocCIsICdjcHRjaHByX3NldHRpbmdzX3BhZ2UnICk7IAogYWRkX2FjdGlvbiggJ2FkbWluX2luaXQnLCAncmVnaXN0ZXJfY3B0Y2hwcl9zZXR0aW5ncycgKTsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl92ZXJzaW9uX2NoZWNrJyApICkgewogZnVuY3Rpb24gY3B0Y2hwcl92ZXJzaW9uX2NoZWNrKCkgeyBnbG9iYWwgJHdwX3ZlcnNpb247ICRwbHVnaW5fZGF0YSA9IGdldF9wbHVnaW5fZGF0YSggZGlybmFtZShfX0ZJTEVfXykgLiAnL2NhcHRjaGFfcHJvLnBocCcgKTsKJHJlcXVpcmVfd3AgPSAiMy4xIjsgJHBsdWdpbiA9ICJjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAiOyBpZiAoIHZlcnNpb25fY29tcGFyZSggJHdwX3ZlcnNpb24sICRyZXF1aXJlX3dwLCAiPCIgKSApIHsKIGlmKCBpc19wbHVnaW5fYWN0aXZlKCAkcGx1Z2luICkgKSB7IGRlYWN0aXZhdGVfcGx1Z2lucyggJHBsdWdpbiApOyB3cF9kaWUoICI8c3Ryb25nPiIgLiAkcGx1Z2luX2RhdGFbJ05hbWUnXSAuICIgPC9zdHJvbmc+ICIgLiBfXyggJ3JlcXVpcmVzJywgJ2NhcHRjaGFfcHJvJyApIC4gIiA8c3Ryb25nPldvcmRQcmVzcyAiIC4gJHJlcXVpcmVfd3AgLiAiPC9zdHJvbmc+ICIgLiBfXyggJ29yIGhpZ2hlciwgdGhhdCBpcyB3aHkgaXQgaGFzIGJlZW4gZGVhY3RpdmF0ZWQhIFBsZWFzZSB1cGdyYWRlIFdvcmRQcmVzcyBhbmQgdHJ5IGFnYWluLicsICdjYXB0Y2hhX3BybycpIC4gIjxiciAvPjxiciAvPiIgLiBfXyggJ0JhY2sgdG8gdGhlIFdvcmRQcmVzcycsICdjYXB0Y2hhX3BybycpIC4gIiA8YSBocmVmPSciIC4gZ2V0X2FkbWluX3VybCggbnVsbCwgJ3BsdWdpbnMucGhwJyApIC4gIic+IiAuIF9fKCAnUGx1Z2lucyBwYWdlJywgJ2NhcHRjaGFfcHJvJykgLiAiPC9hPi4iICk7Cn0gfSB9IH0gJGNwdGNocHJfYWRtaW5fZmllbGRzX2VuYWJsZSA9IGFycmF5ICggYXJyYXkoICdjcHRjaHByX2xvZ2luX2Zvcm0nLCBfXyggJ0xvZ2luIGZvcm0nLCAnY2FwdGNoYV9wcm8nICksIF9fKCAnTG9naW4gZm9ybScsICdjYXB0Y2hhX3BybycgKSApLAogYXJyYXkoICdjcHRjaHByX3JlZ2lzdGVyX2Zvcm0nLCBfXyggJ1JlZ2lzdHJhdGlvbiBmb3JtJywgJ2NhcHRjaGFfcHJvJyApLCBfXyggJ1JlZ2lzdGVyIGZvcm0nLCAnY2FwdGNoYV9wcm8nICkgKSwKIGFycmF5KCAnY3B0Y2hwcl9sb3N0X3Bhc3N3b3JkX2Zvcm0nLCBfXyggJ1Jlc2V0IFBhc3N3b3JkIGZvcm0nLCAnY2FwdGNoYV9wcm8nICksIF9fKCAnTG9zdCBwYXNzd29yZCBmb3JtJywgJ2NhcHRjaGFfcHJvJyApICksCiBhcnJheSggJ2NwdGNocHJfY29tbWVudHNfZm9ybScsIF9fKCAnQ29tbWVudHMgZm9ybScsICdjYXB0Y2hhX3BybycgKSwgX18oICdDb21tZW50cyBmb3JtJywgJ2NhcHRjaGFfcHJvJykgKSwKIGFycmF5KCAnY3B0Y2hwcl9oaWRlX3JlZ2lzdGVyJywgX18oICdIaWRlIENBUFRDSEEgZm9yIHJlZ2lzdGVyZWQgdXNlcnMnLCAnY2FwdGNoYV9wcm8nICksIF9fKCAnSGlkZSBDQVBUQ0hBIGZvciByZWdpc3RlcmVkIHVzZXJzJywgJ2NhcHRjaGFfcHJvJyApICksIAopOyAkY3B0Y2hwcl9hZG1pbl9maWVsZHNfYWN0aW9ucyA9IGFycmF5ICggYXJyYXkoICdjcHRjaHByX21hdGhfYWN0aW9uX3BsdXMnLCBfXyggJ1BsdXMgKCYjNDM7KScsICdjYXB0Y2hhX3BybycgKSwgX18oICdQbHVzJywgJ2NhcHRjaGFfcHJvJyApICksCiBhcnJheSggJ2NwdGNocHJfbWF0aF9hY3Rpb25fbWludXMnLCBfXyggJ01pbnVzICgmbWludXM7KScsICdjYXB0Y2hhX3BybycgKSwgX18oICdNaW51cycsICdjYXB0Y2hhX3BybycgKSApLAogYXJyYXkoICdjcHRjaHByX21hdGhfYWN0aW9uX2luY3JlYXNlJywgX18oICdNdWx0aXBsaWNhdGlvbiAoJnRpbWVzOyknLCAnY2FwdGNoYV9wcm8nICksIF9fKCAnTXVsdGlwbHknLCAnY2FwdGNoYV9wcm8nICkgKSwKKTsgJGNwdGNocHJfYWRtaW5fZmllbGRzX2RpZmZpY3VsdHkgPSBhcnJheSAoIGFycmF5KCAnY3B0Y2hwcl9kaWZmaWN1bHR5X251bWJlcicsIF9fKCAnTnVtYmVycycsICdjYXB0Y2hhX3BybycgKSwgX18oICdOdW1iZXJzJywgJ2NhcHRjaGFfcHJvJyApICksCiBhcnJheSggJ2NwdGNocHJfZGlmZmljdWx0eV93b3JkJywgX18oICdXb3JkcycsICdjYXB0Y2hhX3BybycgKSwgX18oICdXb3JkcycsICdjYXB0Y2hhX3BybycgKSApLCApOyAKaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ3JlZ2lzdGVyX2NwdGNocHJfc2V0dGluZ3MnICkgKSB7IGZ1bmN0aW9uIHJlZ2lzdGVyX2NwdGNocHJfc2V0dGluZ3MoKSB7IGdsb2JhbCAkd3BtdSwgJGNwdGNocHJfb3B0aW9ucywgJGJ3c19wbHVnaW5faW5mbzsKaWYgKCBmdW5jdGlvbl9leGlzdHMoICdnZXRfcGx1Z2luX2RhdGEnICkgJiYgKCAhIGlzc2V0KCAkYndzX3BsdWdpbl9pbmZvICkgfHwgZW1wdHkoICRid3NfcGx1Z2luX2luZm8gKSApICkgewogJHBsdWdpbl9pbmZvID0gZ2V0X3BsdWdpbl9kYXRhKCBkaXJuYW1lKF9fRklMRV9fKSAuICcvY2FwdGNoYV9wcm8ucGhwJyApOyAkYndzX3BsdWdpbl9pbmZvID0gYXJyYXkoICdpZCcgPT4gJzcyJywgJ3ZlcnNpb24nID0+ICRwbHVnaW5faW5mb1siVmVyc2lvbiJdICk7Cn0gJGNwdGNocHJfb3B0aW9uX2RlZmF1bHRzID0gYXJyYXkoICdjcHRjaHByX3N0cl9rZXknID0+IGFycmF5KCAndGltZScgPT4gJycsICdrZXknID0+ICcnICksICdjcHRjaHByX2xvZ2luX2Zvcm0nID0+ICcxJywKICdjcHRjaHByX3JlZ2lzdGVyX2Zvcm0nID0+ICcxJywgJ2NwdGNocHJfbG9zdF9wYXNzd29yZF9mb3JtJyA9PiAnMScsICdjcHRjaHByX2NvbW1lbnRzX2Zvcm0nID0+ICcxJywKICdjcHRjaHByX2hpZGVfcmVnaXN0ZXInID0+ICcxJywgJ2NwdGNocHJfY29udGFjdF9mb3JtJyA9PiAnMCcsICdjcHRjaHByX21hdGhfYWN0aW9uX3BsdXMnID0+ICcxJywKICdjcHRjaHByX21hdGhfYWN0aW9uX21pbnVzJyA9PiAnMScsICdjcHRjaHByX21hdGhfYWN0aW9uX2luY3JlYXNlJyA9PiAnMScsICdjcHRjaHByX2xhYmVsX2Zvcm0nID0+ICcnLAogJ2NwdGNocHJfcmVxdWlyZWRfc3ltYm9sJyA9PiAnKicsICdjcHRjaHByX2RpZmZpY3VsdHlfbnVtYmVyJyA9PiAnMScsICdjcHRjaHByX2RpZmZpY3VsdHlfd29yZCcgPT4gJzEnLAogJ2NwdGNocHJfYnVkZHlwcmVzc19yZWdpc3Rlcl9mb3JtJyA9PiAnMCcsICdjcHRjaHByX2J1ZGR5cHJlc3NfY29tbWVudF9mb3JtJyA9PiAnMCcsICdjcHRjaHByX2J1ZGR5cHJlc3NfZ3JvdXBfZm9ybScgPT4gJzAnLAogJ2NwdGNocHJfY2Y3JyA9PiAnMCcsICdjcHRjaHByX2FjdGl2YXRlX2FraXNtZXQnID0+ICcwJyApOyBpZiAoIDEgPT0gJHdwbXUgKSB7IGlmICggISBnZXRfc2l0ZV9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnICkgKSB7CiBpZiAoIGdldF9vcHRpb24oICdjcHRjaF9vcHRpb25zJyApICkgeyAkY3B0Y2hfb3B0aW9ucyA9IGdldF9vcHRpb24oICdjcHRjaF9vcHRpb25zJyApOyBmb3JlYWNoICggJGNwdGNocHJfb3B0aW9uX2RlZmF1bHRzIGFzICRrZXkgPT4gJHZhbHVlICkgewogJG9wdGlvbiA9IHN0cl9yZXBsYWNlKCAnY3B0Y2hwcl8nLCAnJywgJGtleSApOyBpZiAoIGlzc2V0KCAkY3B0Y2hfb3B0aW9uc1snY3B0Y2hfJyAuICRvcHRpb24gXSApICYmICcnICE9ICRjcHRjaF9vcHRpb25zWydjcHRjaF8nIC4gJG9wdGlvbiBdICkKICRjcHRjaHByX29wdGlvbl9kZWZhdWx0c1sgJGtleSBdID0gJGNwdGNoX29wdGlvbnNbJ2NwdGNoXycgLiAkb3B0aW9uIF07IH0gfSBhZGRfc2l0ZV9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnLCAkY3B0Y2hwcl9vcHRpb25fZGVmYXVsdHMsICcnLCAneWVzJyApOwp9ICRjcHRjaHByX29wdGlvbnMgPSBnZXRfc2l0ZV9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnICk7IH0gZWxzZSB7IGlmICggISBnZXRfb3B0aW9uKCAnY3B0Y2hwcl9vcHRpb25zJyApICkgewogaWYgKCBnZXRfb3B0aW9uKCAnY3B0Y2hfb3B0aW9ucycgKSApIHsgJGNwdGNoX29wdGlvbnMgPSBnZXRfb3B0aW9uKCAnY3B0Y2hfb3B0aW9ucycgKTsgZm9yZWFjaCAoICRjcHRjaHByX29wdGlvbl9kZWZhdWx0cyBhcyAka2V5ID0+ICR2YWx1ZSApIHsKICRvcHRpb24gPSBzdHJfcmVwbGFjZSggJ2NwdGNocHJfJywgJycsICRrZXkgKTsgaWYgKCBpc3NldCggJGNwdGNoX29wdGlvbnNbJ2NwdGNoXycgLiAkb3B0aW9uIF0gKSAmJiAnJyAhPSAkY3B0Y2hfb3B0aW9uc1snY3B0Y2hfJyAuICRvcHRpb24gXSApCiAkY3B0Y2hwcl9vcHRpb25fZGVmYXVsdHNbICRrZXkgXSA9ICRjcHRjaF9vcHRpb25zWydjcHRjaF8nIC4gJG9wdGlvbiBdOyB9IH0gYWRkX29wdGlvbiggJ2NwdGNocHJfb3B0aW9ucycsICRjcHRjaHByX29wdGlvbl9kZWZhdWx0cywgJycsICd5ZXMnICk7IAogfSAkY3B0Y2hwcl9vcHRpb25zID0gZ2V0X29wdGlvbiggJ2NwdGNocHJfb3B0aW9ucycgKTsgfSAkY3B0Y2hwcl9vcHRpb25zID0gYXJyYXlfbWVyZ2UoICRjcHRjaHByX29wdGlvbl9kZWZhdWx0cywgJGNwdGNocHJfb3B0aW9ucyApOwogaWYgKCAnMCcgPT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9hY3RpdmF0ZV9ha2lzbWV0J10gKSB7IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdpc19wbHVnaW5fYWN0aXZlX2Zvcl9uZXR3b3JrJyApICkKIHJlcXVpcmVfb25jZSggQUJTUEFUSCAuICcvd3AtYWRtaW4vaW5jbHVkZXMvcGx1Z2luLnBocCcgKTsgJGFjdGl2ZV9wbHVnaW5zID0gZ2V0X29wdGlvbiggJ2FjdGl2ZV9wbHVnaW5zJyApOwppZiAoIDAgPj0gY291bnQoIHByZWdfZ3JlcCggJy9ha2lzbWV0XC9ha2lzbWV0LnBocC8nLCAkYWN0aXZlX3BsdWdpbnMgKSApICYmICEgaXNfcGx1Z2luX2FjdGl2ZV9mb3JfbmV0d29yayggJ2FraXNtZXQvYWtpc21ldC5waHAnICkgKSB7IAogYXJyYXlfcHVzaCggJGFjdGl2ZV9wbHVnaW5zLCAnYWtpc21ldC9ha2lzbWV0LnBocCcgKTsgdXBkYXRlX29wdGlvbiggJ2FjdGl2ZV9wbHVnaW5zJywgJGFjdGl2ZV9wbHVnaW5zICk7Cn0gaWYgKCAhIGdldF9vcHRpb24oJ3dvcmRwcmVzc19hcGlfa2V5JykgKSB7IGFkZF9vcHRpb24oJ3dvcmRwcmVzc19hcGlfa2V5Jyk7IH0gJHdwY29tX2FwaV9rZXkgPSBnZXRfb3B0aW9uKCd3b3JkcHJlc3NfYXBpX2tleScpOwppZiAoICEgJHdwY29tX2FwaV9rZXkgfHwgJycgPT0gJHdwY29tX2FwaV9rZXkgKSB7IGdsb2JhbCAkd3Bjb21fYXBpX2tleTsgJHdwY29tX2FwaV9rZXkgPSAnNDgzNmZiMzUwYjM0JzsKdXBkYXRlX29wdGlvbiggJ3dvcmRwcmVzc19hcGlfa2V5JywgJHdwY29tX2FwaV9rZXkgKTsgfSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2FjdGl2YXRlX2FraXNtZXQnXSA9ICcxJzsKfSB1cGRhdGVfb3B0aW9uKCAnY3B0Y2hwcl9vcHRpb25zJywgJGNwdGNocHJfb3B0aW9ucyApOyB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2NwdGNocHJfZ2VuZXJhdGVfa2V5JyApICkgewogZnVuY3Rpb24gY3B0Y2hwcl9nZW5lcmF0ZV9rZXkoICRsZW5naHQgPSAxNSApIHsgZ2xvYmFsICRjcHRjaHByX29wdGlvbnM7ICRzaW1ib2xzID0gZ2V0X2Jsb2dpbmZvKCAidXJsIiApIC4gdGltZSgpOwokc2ltYm9sc19sZW5naHQgPSBzdHJsZW4oICRzaW1ib2xzICk7ICRzaW1ib2xzX2xlbmdodC0tOyAkc3RyX2tleSA9IE5VTEw7IGZvciAoICR4ID0gMTsgJHggPD0gJGxlbmdodDsgJHgrKyApIHsKICRwb3NpdGlvbiA9IHJhbmQoIDAsICRzaW1ib2xzX2xlbmdodCApOyAkc3RyX2tleSAuPSBzdWJzdHIoICRzaW1ib2xzLCAkcG9zaXRpb24sIDEgKTsgfSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3N0cl9rZXknXVsna2V5J10gPSBtZDUoICRzdHJfa2V5ICk7CiRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfc3RyX2tleSddWyd0aW1lJ10gPSB0aW1lKCk7IHVwZGF0ZV9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnLCAkY3B0Y2hwcl9vcHRpb25zICk7Cn0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzKCAnY3B0Y2hwcl9wbHVnaW5fYWN0aXZhdGlvbicgKSApIHsgZnVuY3Rpb24gY3B0Y2hwcl9wbHVnaW5fYWN0aXZhdGlvbigpIHsKIGlmICggIWZ1bmN0aW9uX2V4aXN0cyggJ2dldF9wbHVnaW5zJyApICkgcmVxdWlyZV9vbmNlKCBBQlNQQVRIIC4gJ3dwLWFkbWluL2luY2x1ZGVzL3BsdWdpbi5waHAnICk7CmlmICggISBmdW5jdGlvbl9leGlzdHMoICdpc19wbHVnaW5fYWN0aXZlX2Zvcl9uZXR3b3JrJyApICkgcmVxdWlyZV9vbmNlKCBBQlNQQVRIIC4gJy93cC1hZG1pbi9pbmNsdWRlcy9wbHVnaW4ucGhwJyApOwokYWxsX3BsdWdpbnMgPSBnZXRfcGx1Z2lucygpOyAkYWN0aXZlX3BsdWdpbnMgPSBnZXRfb3B0aW9uKCAnYWN0aXZlX3BsdWdpbnMnICk7IGlmICggISBhcnJheV9rZXlfZXhpc3RzKCAnYWtpc21ldC9ha2lzbWV0LnBocCcsICRhbGxfcGx1Z2lucyApICkgewogJHVybCA9ICdodHRwOi8vZG93bmxvYWRzLndvcmRwcmVzcy5vcmcvcGx1Z2luL2FraXNtZXQuemlwJzsgJHVwbG9hZERpciA9IHdwX3VwbG9hZF9kaXIoKTsgaWYgKCBmaWxlX3B1dF9jb250ZW50cyggJHVwbG9hZERpclsicGF0aCJdIC4gIi9ha2lzbWV0LnppcCIsIGZpbGVfZ2V0X2NvbnRlbnRzKCAkdXJsICkgKSApIHsKIGlmICggY2xhc3NfZXhpc3RzKCAnWmlwQXJjaGl2ZScgKSApIHsgJHppcCA9IG5ldyBaaXBBcmNoaXZlKCk7IGlmICggJHppcC0+b3BlbiggJHVwbG9hZERpclsicGF0aCJdIC4gIi9ha2lzbWV0LnppcCIgKSA9PT0gVFJVRSApIHsKICR6aXAtPmV4dHJhY3RUbyggV1BfUExVR0lOX0RJUiApOyAkemlwLT5jbG9zZSgpOyB9IH0gZWxzZWlmICggY2xhc3NfZXhpc3RzKCAnUGhhcicgKSApIHsgJHBoYXIgPSBuZXcgUGhhckRhdGEoICR1cGxvYWREaXJbInBhdGgiXSAuIi9ha2lzbWV0LnppcCIgKTsKJHBoYXItPmV4dHJhY3RUbyggV1BfUExVR0lOX0RJUiApOyB9IGVsc2UgeyByZXR1cm47IH0gQHVubGluayggJHVwbG9hZERpclsicGF0aCJdIC4gIi9ha2lzbWV0LnppcCIgKTsKfSB9IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzKCAnY3B0Y2hwcl9wbHVnaW5fZGVhY3RpdmF0aW9uJyApICkgeyBmdW5jdGlvbiBjcHRjaHByX3BsdWdpbl9kZWFjdGl2YXRpb24oKSB7CiBnbG9iYWwgJGNwdGNocHJfb3B0aW9uczsgJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9hY3RpdmF0ZV9ha2lzbWV0J10gPSAwOyB1cGRhdGVfb3B0aW9uKCAnY3B0Y2hwcl9vcHRpb25zJywgJGNwdGNocHJfb3B0aW9ucyApOyAKIH0gfSBnbG9iYWwgJHdwbXUsICRjcHRjaHByX3RpbWU7ICRjcHRjaHByX3RpbWUgPSB0aW1lKCk7IGlmICggMSA9PSAkd3BtdSApIHsgJGNwdGNocHJfb3B0aW9ucyA9IGdldF9zaXRlX29wdGlvbiggJ2NwdGNocHJfb3B0aW9ucycgKTsKfSBlbHNlIHsgJGNwdGNocHJfb3B0aW9ucyA9IGdldF9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnICk7IH0gaWYgKCBpc3NldCggJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9sb2dpbl9mb3JtJ10gKSAmJiAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfbG9naW5fZm9ybSddICkgewogYWRkX2FjdGlvbiggJ2xvZ2luX2Zvcm0nLCAnY3B0Y2hwcl9sb2dpbl9mb3JtJyApOyBhZGRfZmlsdGVyKCAnYXV0aGVudGljYXRlJywgJ2NwdGNocHJfbG9naW5fY2hlY2snLCAyMSwgMSApOwp9IGlmICggaXNzZXQoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfY29tbWVudHNfZm9ybSddICkgJiYgMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2NvbW1lbnRzX2Zvcm0nXSApIHsKIGdsb2JhbCAkd3BfdmVyc2lvbjsgaWYgKCB2ZXJzaW9uX2NvbXBhcmUoICR3cF92ZXJzaW9uLCczJywgJz49JyApICkgeyBhZGRfYWN0aW9uKCAnY29tbWVudF9mb3JtX2FmdGVyX2ZpZWxkcycsICdjcHRjaHByX2NvbW1lbnRfZm9ybV93cDMnLCAxICk7CmFkZF9hY3Rpb24oICdjb21tZW50X2Zvcm1fbG9nZ2VkX2luX2FmdGVyJywgJ2NwdGNocHJfY29tbWVudF9mb3JtX3dwMycsIDEgKTsgfSBhZGRfYWN0aW9uKCAnY29tbWVudF9mb3JtJywgJ2NwdGNocHJfY29tbWVudF9mb3JtJyApOwphZGRfZmlsdGVyKCAncHJlcHJvY2Vzc19jb21tZW50JywgJ2NwdGNocHJfY29tbWVudF9wb3N0JyApOyB9IGlmICggaXNzZXQoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfcmVnaXN0ZXJfZm9ybSddICkgJiYgMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3JlZ2lzdGVyX2Zvcm0nXSApIHsKIGFkZF9hY3Rpb24oICdyZWdpc3Rlcl9mb3JtJywgJ2NwdGNocHJfcmVnaXN0ZXJfZm9ybScgKTsgYWRkX2FjdGlvbiggJ3JlZ2lzdGVyX3Bvc3QnLCAnY3B0Y2hwcl9yZWdpc3Rlcl9wb3N0JywgMTAsIDMgKTsKYWRkX2FjdGlvbiggJ3NpZ251cF9leHRyYV9maWVsZHMnLCAnY3B0Y2hwcl9yZWdpc3Rlcl9mb3JtJyApOyBhZGRfZmlsdGVyKCAnd3BtdV92YWxpZGF0ZV91c2VyX3NpZ251cCcsICdjcHRjaHByX3JlZ2lzdGVyX3ZhbGlkYXRlJyApOwp9IGlmICggaXNzZXQoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfbG9zdF9wYXNzd29yZF9mb3JtJ10gKSAmJiAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfbG9zdF9wYXNzd29yZF9mb3JtJ10gKSB7CiBhZGRfYWN0aW9uKCAnbG9zdHBhc3N3b3JkX2Zvcm0nLCAnY3B0Y2hwcl9yZWdpc3Rlcl9mb3JtJyApOyBhZGRfYWN0aW9uKCAnbG9zdHBhc3N3b3JkX3Bvc3QnLCAnY3B0Y2hwcl9sb3N0cGFzc3dvcmRfcG9zdCcsIDEwLCAzICk7Cn0gaWYgKCBpc3NldCggJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9idWRkeXByZXNzX3JlZ2lzdGVyX2Zvcm0nXSApICYmIDEgPT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9idWRkeXByZXNzX3JlZ2lzdGVyX2Zvcm0nXSApIHsKIGFkZF9hY3Rpb24oICdicF9iZWZvcmVfcmVnaXN0cmF0aW9uX3N1Ym1pdF9idXR0b25zJywgJ2NwdGNocHJfYnVkZHlwcmVzc19yZWdpc3RyYXRpb24nICk7IGFkZF9hY3Rpb24oICdicF9zaWdudXBfdmFsaWRhdGUnLCAnY3B0Y2hwcl9idWRkeXByZXNzX3JlZ2lzdHJhdGlvbl92YWxpZGF0ZScgKTsKfSBpZiAoIGlzc2V0KCAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2J1ZGR5cHJlc3NfY29tbWVudF9mb3JtJ10gKSAmJiAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X2Zvcm0nXSApIHsKIGFkZF9hY3Rpb24oICdicF9hY3Rpdml0eV9lbnRyeV9jb21tZW50cycsICdjcHRjaHByX2J1ZGR5cHJlc3NfY29tbWVudF9mb3JtJyApOyBhZGRfYWN0aW9uKCAnYnBfYWN0aW9ucycsICdjcHRjaHByX2J1ZGR5cHJlc3NfY29tbWVudF9mb3JtX3ZhbGlkYXRlJyApOyAKIGFkZF9hY3Rpb24oICd3cF9oZWFkJywgJ2NwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X3dwX2hlYWQnICk7IGFkZF9hY3Rpb24oICd3cF9hamF4X2NwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X3ZhbGlkYXRlJywgJ2NwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X2FqYXgnICk7IAp9IGlmICggaXNzZXQoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfYnVkZHlwcmVzc19ncm91cF9mb3JtJ10gKSAmJiAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfYnVkZHlwcmVzc19ncm91cF9mb3JtJ10gKSB7CiBhZGRfYWN0aW9uKCAnYnBfYWZ0ZXJfZ3JvdXBfZGV0YWlsc19jcmVhdGlvbl9zdGVwJywgJ2NwdGNocHJfYnVkZHlwcmVzc19ncm91cF9mb3JtJyApOyBhZGRfYWN0aW9uKCAnZ3JvdXBzX2NyZWF0ZV9ncm91cF9zdGVwX3NhdmVfZ3JvdXAtZGV0YWlscycsICdjcHRjaHByX2J1ZGR5cHJlc3NfZ3JvdXBfZm9ybV92YWxpZGF0ZScgKTsKfSBpZiAoIGlzc2V0KCAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2NmNyddICkgJiYgMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2NmNyddICkgeyByZXF1aXJlX29uY2UoIGRpcm5hbWUoIF9fRklMRV9fICkgLiAnL2NhcHRjaGFfcHJvX2Zvcl9jZjcucGhwJyApOwogYWRkX2FjdGlvbiggJ2luaXQnLCAnd3BjZjdfYWRkX3Nob3J0Y29kZV9id3NfY2FwdGNoYV9wcm8nLCA1ICk7IGFkZF9hY3Rpb24oICdhZG1pbl9pbml0JywgJ3dwY2Y3X2FkZF90YWdfZ2VuZXJhdG9yX2J3c19jYXB0Y2hhX3BybycsIDQ1ICk7CiBhZGRfZmlsdGVyKCAnd3BjZjdfdmFsaWRhdGVfYndzY2FwdGNoYScsICd3cGNmN19id3NfY2FwdGNoYV9wcm9fdmFsaWRhdGlvbl9maWx0ZXInLCAxMCwgMiApOyBhZGRfZmlsdGVyKCAnd3BjZjdfbWVzc2FnZXMnLCAnd3BjZjdfYndzY2FwdGNoYV9tZXNzYWdlcycgKTsKIGFkZF9hY3Rpb24oICd3cGNmN19hZG1pbl9ub3RpY2VzJywgJ3dwY2Y3X2J3c2NhcHRjaGFfZGlzcGxheV93YXJuaW5nX21lc3NhZ2UnICk7IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2NwdGNocHJfcGx1Z2luX2FjdGlvbl9saW5rcycgKSApIHsKIGZ1bmN0aW9uIGNwdGNocHJfcGx1Z2luX2FjdGlvbl9saW5rcyggJGxpbmtzLCAkZmlsZSApIHsgc3RhdGljICR0aGlzX3BsdWdpbjsgaWYgKCAhICR0aGlzX3BsdWdpbiApICR0aGlzX3BsdWdpbiA9ICJjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAiOwppZiAoICRmaWxlID09ICR0aGlzX3BsdWdpbiApIHsgJHNldHRpbmdzX2xpbmsgPSAnPGEgaHJlZj0iYWRtaW4ucGhwP3BhZ2U9Y2FwdGNoYV9wcm8ucGhwIj4nIC4gX18oICdTZXR0aW5ncycsICdjYXB0Y2hhX3BybycgKSAuICc8L2E+JzsKYXJyYXlfdW5zaGlmdCggJGxpbmtzLCAkc2V0dGluZ3NfbGluayApOyB9IHJldHVybiAkbGlua3M7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzKCAnY3B0Y2hwcl9yZWdpc3Rlcl9wbHVnaW5fbGlua3MnICkgKSB7CiBmdW5jdGlvbiBjcHRjaHByX3JlZ2lzdGVyX3BsdWdpbl9saW5rcyggJGxpbmtzLCAkZmlsZSApIHsgJGJhc2UgPSAiY2FwdGNoYS1wcm8vY2FwdGNoYV9wcm8ucGhwIjsgaWYgKCAkZmlsZSA9PSAkYmFzZSApIHsKICRsaW5rc1tdID0gJzxhIGhyZWY9ImFkbWluLnBocD9wYWdlPWNhcHRjaGFfcHJvLnBocCI+JyAuIF9fKCAnU2V0dGluZ3MnLCAnY2FwdGNoYV9wcm8nICkgLiAnPC9hPic7CiRsaW5rc1tdID0gJzxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vcGx1Z2luL2NhcHRjaGEtcHJvLyNmYXEiIHRhcmdldD0iX2JsYW5rIj4nIC4gX18oICdGQVEnLCAnY2FwdGNoYV9wcm8nICkgLiAnPC9hPic7CiRsaW5rc1tdID0gJzxhIGhyZWY9Imh0dHA6Ly9zdXBwb3J0LmJlc3R3ZWJzb2Z0LmNvbSI+JyAuIF9fKCAnU3VwcG9ydCcsICdjYXB0Y2hhX3BybycgKSAuICc8L2E+JzsgfQpyZXR1cm4gJGxpbmtzOyB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2NwdGNocHJfc2V0dGluZ3NfcGFnZScgKSApIHsgZnVuY3Rpb24gY3B0Y2hwcl9zZXR0aW5nc19wYWdlKCkgewogZ2xvYmFsICR3cG11LCAkd3BfdmVyc2lvbiwgJGNwdGNocHJfYWRtaW5fZmllbGRzX2VuYWJsZSwgJGNwdGNocHJfYWRtaW5fZmllbGRzX2FjdGlvbnMsICRjcHRjaHByX2FkbWluX2ZpZWxkc19kaWZmaWN1bHR5LCAkY3B0Y2hwcl9vcHRpb25zOwokZXJyb3IgPSAiIjsgJG1lc3NhZ2UgPSAiIjsgJHBsdWdpbl9pbmZvID0gZ2V0X3BsdWdpbl9kYXRhKCBkaXJuYW1lKF9fRklMRV9fKSAuICcvY2FwdGNoYV9wcm8ucGhwJyApOwogaWYgKCAxID09ICR3cG11ICkgeyAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMgPSBnZXRfc2l0ZV9vcHRpb24oICdic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucycgKTsKfSBlbHNlIHsgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zID0gZ2V0X29wdGlvbiggJ2JzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zJyApOyB9IGlmICggaXNzZXQoICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1snY2FwdGNoYS1wcm8vY2FwdGNoYV9wcm8ucGhwJ10gKSApCiAkbGljZW5zZV9rZXkgPSAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnNbJ2NhcHRjaGEtcHJvL2NhcHRjaGFfcHJvLnBocCddOyBpZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfZm9ybV9zdWJtaXQnXSApICYmIGNoZWNrX2FkbWluX3JlZmVyZXIoIHBsdWdpbl9iYXNlbmFtZShfX0ZJTEVfXyksICdjcHRjaHByX25vbmNlX25hbWUnICkgKSB7CiAkY3B0Y2hwcl9yZXF1ZXN0X29wdGlvbnMgPSBhcnJheSgpOyAkY3B0Y2hwcl9yZXF1ZXN0X29wdGlvbnNbJ2NwdGNocHJfbG9naW5fZm9ybSddID0gaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9sb2dpbl9mb3JtJ10gKSA/IDEgOiAwOwokY3B0Y2hwcl9yZXF1ZXN0X29wdGlvbnNbJ2NwdGNocHJfcmVnaXN0ZXJfZm9ybSddID0gaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9yZWdpc3Rlcl9mb3JtJ10gKSA/IDEgOiAwOwokY3B0Y2hwcl9yZXF1ZXN0X29wdGlvbnNbJ2NwdGNocHJfbG9zdF9wYXNzd29yZF9mb3JtJ10gPSBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX2xvc3RfcGFzc3dvcmRfZm9ybSddICkgPyAxIDogMDsKJGNwdGNocHJfcmVxdWVzdF9vcHRpb25zWydjcHRjaHByX2NvbW1lbnRzX2Zvcm0nXSA9IGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfY29tbWVudHNfZm9ybSddICkgPyAxIDogMDsKJGNwdGNocHJfcmVxdWVzdF9vcHRpb25zWydjcHRjaHByX2hpZGVfcmVnaXN0ZXInXSA9IGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfaGlkZV9yZWdpc3RlciddICkgPyAxIDogMDsKJGNwdGNocHJfcmVxdWVzdF9vcHRpb25zWydjcHRjaHByX2NvbnRhY3RfZm9ybSddID0gaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9jb250YWN0X2Zvcm0nXSApID8gMSA6IDA7CiRjcHRjaHByX3JlcXVlc3Rfb3B0aW9uc1snY3B0Y2hwcl9idWRkeXByZXNzX3JlZ2lzdGVyX2Zvcm0nXSA9IGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfYnVkZHlwcmVzc19yZWdpc3Rlcl9mb3JtJ10gKSA/IDEgOiAwOwokY3B0Y2hwcl9yZXF1ZXN0X29wdGlvbnNbJ2NwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X2Zvcm0nXSA9IGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X2Zvcm0nXSApID8gMSA6IDA7CiRjcHRjaHByX3JlcXVlc3Rfb3B0aW9uc1snY3B0Y2hwcl9idWRkeXByZXNzX2dyb3VwX2Zvcm0nXSA9IGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfYnVkZHlwcmVzc19ncm91cF9mb3JtJ10gKSA/IDEgOiAwOwokY3B0Y2hwcl9yZXF1ZXN0X29wdGlvbnNbJ2NwdGNocHJfY2Y3J10gPSBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX2NmNyddICkgPyAxIDogMDsgJGNwdGNocHJfcmVxdWVzdF9vcHRpb25zWydjcHRjaHByX2xhYmVsX2Zvcm0nXSA9IGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfbGFiZWxfZm9ybSddICkgPyAkX1JFUVVFU1RbJ2NwdGNocHJfbGFiZWxfZm9ybSddIDogJyc7CiRjcHRjaHByX3JlcXVlc3Rfb3B0aW9uc1snY3B0Y2hwcl9yZXF1aXJlZF9zeW1ib2wnXSA9IGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfcmVxdWlyZWRfc3ltYm9sJ10gKSA/ICRfUkVRVUVTVFsnY3B0Y2hwcl9yZXF1aXJlZF9zeW1ib2wnXSA6ICcnOwogJGNwdGNocHJfcmVxdWVzdF9vcHRpb25zWydjcHRjaHByX21hdGhfYWN0aW9uX3BsdXMnXSA9IGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfbWF0aF9hY3Rpb25fcGx1cyddICkgPyAxIDogMDsKJGNwdGNocHJfcmVxdWVzdF9vcHRpb25zWydjcHRjaHByX21hdGhfYWN0aW9uX21pbnVzJ10gPSBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX21hdGhfYWN0aW9uX21pbnVzJ10gKSA/IDEgOiAwOwokY3B0Y2hwcl9yZXF1ZXN0X29wdGlvbnNbJ2NwdGNocHJfbWF0aF9hY3Rpb25faW5jcmVhc2UnXSA9IGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfbWF0aF9hY3Rpb25faW5jcmVhc2UnXSApID8gMSA6IDA7CiRjcHRjaHByX3JlcXVlc3Rfb3B0aW9uc1snY3B0Y2hwcl9kaWZmaWN1bHR5X251bWJlciddID0gaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9kaWZmaWN1bHR5X251bWJlciddICkgPyAxIDogMDsKJGNwdGNocHJfcmVxdWVzdF9vcHRpb25zWydjcHRjaHByX2RpZmZpY3VsdHlfd29yZCddID0gaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9kaWZmaWN1bHR5X3dvcmQnXSApID8gMSA6IDA7IAogJGNwdGNocHJfb3B0aW9ucyA9IGFycmF5X21lcmdlKCAkY3B0Y2hwcl9vcHRpb25zLCAkY3B0Y2hwcl9yZXF1ZXN0X29wdGlvbnMgKTsgaWYgKCAoICEgaXNzZXQgKCAkX1JFUVVFU1RbJ2NwdGNocHJfZGlmZmljdWx0eV9udW1iZXInXSApICYmICEgaXNzZXQgKCAkX1JFUVVFU1RbJ2NwdGNocHJfZGlmZmljdWx0eV93b3JkJ10gKSApIHx8IAogKCAhIGlzc2V0ICggJF9SRVFVRVNUWydjcHRjaHByX21hdGhfYWN0aW9uX3BsdXMnXSApICYmICEgaXNzZXQgKCAkX1JFUVVFU1RbJ2NwdGNocHJfbWF0aF9hY3Rpb25fbWludXMnXSApICYmICEgaXNzZXQgKCAkX1JFUVVFU1RbJ2NwdGNocHJfbWF0aF9hY3Rpb25faW5jcmVhc2UnXSApICkgKSB7CiAkZXJyb3IgPSBfXyggIlBsZWFzZSBzZWxlY3Qgb25lIGl0ZW0gaW4gdGhlIGJsb2NrIEFyaXRobWV0aWMgYW5kIENvbXBsZXhpdHkgZm9yIENBUFRDSEEiLCAnY2FwdGNoYV9wcm8nICk7Cn0gZWxzZSB7IHVwZGF0ZV9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnLCAkY3B0Y2hwcl9vcHRpb25zLCAnJywgJ3llcycgKTsgJG1lc3NhZ2UgPSBfXyggIlNldHRpbmdzIHNhdmVkLiIsICdjYXB0Y2hhX3BybycgKTsKfSB9IGlmICggaXNzZXQoICRfUE9TVFsnY3B0Y2hwcl9saWNlbnNlX3N1Ym1pdCddICkgJiYgY2hlY2tfYWRtaW5fcmVmZXJlciggcGx1Z2luX2Jhc2VuYW1lKF9fRklMRV9fKSwgJ2NwdGNocHJfbGljZW5zZV9ub25jZV9uYW1lJyApICkgewogJGxpY2Vuc2Vfa2V5ID0gaXNzZXQoICRfUE9TVFsnY3B0Y2hwcl9saWNlbnNlX2tleSddICkgPyB0cmltKCAkX1BPU1RbJ2NwdGNocHJfbGljZW5zZV9rZXknXSApIDogJyc7CmlmICggJycgIT0gJGxpY2Vuc2Vfa2V5ICkgeyBpZiAoICFmdW5jdGlvbl9leGlzdHMoICdnZXRfcGx1Z2lucycgKSApIHJlcXVpcmVfb25jZSggQUJTUEFUSCAuICd3cC1hZG1pbi9pbmNsdWRlcy9wbHVnaW4ucGhwJyApOwokcGx1Z2luc19hbGwgPSBnZXRfcGx1Z2lucygpOyAkY3VycmVudCA9IGdldF9zaXRlX3RyYW5zaWVudCggJ3VwZGF0ZV9wbHVnaW5zJyApOyBpZiAoIGlzX2FycmF5KCAkcGx1Z2luc19hbGwgKSAmJiAhZW1wdHkoICRwbHVnaW5zX2FsbCApICYmIGlzc2V0KCAkY3VycmVudCApICYmIGlzX2FycmF5KCAkY3VycmVudC0+cmVzcG9uc2UgKSApIHsKICR0b19zZW5kID0gYXJyYXkoKTsgJHRvX3NlbmRbInBsdWdpbnMiXVsiY2FwdGNoYS1wcm8vY2FwdGNoYV9wcm8ucGhwIl0gPSAkcGx1Z2luc19hbGxbImNhcHRjaGEtcHJvL2NhcHRjaGFfcHJvLnBocCJdOwokdG9fc2VuZFsicGx1Z2lucyJdWyJjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAiXVsiYndzX2xpY2Vuc2Vfa2V5Il0gPSAkbGljZW5zZV9rZXk7ICR0b19zZW5kWyJwbHVnaW5zIl1bImNhcHRjaGEtcHJvL2NhcHRjaGFfcHJvLnBocCJdWyJid3NfaWxsZWdhbF9jbGllbnQiXSA9IHRydWU7CiRvcHRpb25zID0gYXJyYXkoICd0aW1lb3V0JyA9PiAoICggZGVmaW5lZCgnRE9JTkdfQ1JPTicpICYmIERPSU5HX0NST04gKSA/IDMwIDogMyksICdib2R5JyA9PiBhcnJheSggJ3BsdWdpbnMnID0+IHNlcmlhbGl6ZSggJHRvX3NlbmQgKSApLAogJ3VzZXItYWdlbnQnID0+ICdXb3JkUHJlc3MvJyAuICR3cF92ZXJzaW9uIC4gJzsgJyAuIGdldF9ibG9naW5mbyggJ3VybCcgKSApOyAkcmF3X3Jlc3BvbnNlID0gd3BfcmVtb3RlX3Bvc3QoICdodHRwOi8vYmVzdHdlYnNvZnQuY29tL3dwLWNvbnRlbnQvcGx1Z2lucy9wYWlkLXByb2R1Y3RzL3BsdWdpbnMvdXBkYXRlLWNoZWNrLzEuMC8nLCAkb3B0aW9ucyApOwppZiAoIGlzX3dwX2Vycm9yKCAkcmF3X3Jlc3BvbnNlICkgfHwgMjAwICE9IHdwX3JlbW90ZV9yZXRyaWV2ZV9yZXNwb25zZV9jb2RlKCAkcmF3X3Jlc3BvbnNlICkgKSB7ICRlcnJvciAuPSBfXyggJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBUcnkgYWdhaW4gbGF0ZXIuIElmIHRoZSBlcnJvciB3aWxsIGFwcGVhciBhZ2FpbiwgcGxlYXNlLCBjb250YWN0IHVzIDxhIGhyZWY9aHR0cDovL3N1cHBvcnQuYmVzdHdlYnNvZnQuY29tPkJlc3RXZWJTb2Z0PC9hPi4gV2UgYXJlIHNvcnJ5IGZvciBpbmNvbnZlbmllbmNlLicsICdjYXB0Y2hhX3BybycgKTsKfSBlbHNlIHsgJHJlc3BvbnNlID0gbWF5YmVfdW5zZXJpYWxpemUoIHdwX3JlbW90ZV9yZXRyaWV2ZV9ib2R5KCAkcmF3X3Jlc3BvbnNlICkgKTsgaWYgKCBpc19hcnJheSggJHJlc3BvbnNlICkgJiYgIWVtcHR5KCAkcmVzcG9uc2UgKSApIHsKIGZvcmVhY2ggKCAkcmVzcG9uc2UgYXMgJGtleSA9PiAkdmFsdWUgKSB7IGlmICggIndyb25nX2xpY2Vuc2Vfa2V5IiA9PSAkdmFsdWUtPnBhY2thZ2UgKSB7ICRlcnJvciAuPSBfXyggJ1dyb25nIGxpY2Vuc2Uga2V5IScsICdjYXB0Y2hhX3BybycgKTsgCiB9IGVsc2UgaWYgKCAid3JvbmdfZG9tYWluIiA9PSAkdmFsdWUtPnBhY2thZ2UgKSB7ICRlcnJvciAuPSBfXyggJ1RoaXMgbGljZW5zZSBrZXkgaXMgYmluZCB0byBhbm90aGVyIHNpdGUnLCAnY2FwdGNoYV9wcm8nICk7Cn0gZWxzZSBpZiAoICJ0aW1lX291dCIgPT0gJHZhbHVlLT5wYWNrYWdlICkgeyAkbWVzc2FnZSA9IF9fKCAnVGhpcyBsaWNlbnNlIGtleSBpcyB2YWxpZCwgYnV0IFlvdXIgbGljZW5zZSBoYXMgZXhwaXJlZC4gSWYgeW91IHdhbnQgdG8gdXBkYXRlIG91ciBwbHVnaW4gaW4gZnV0dXJlLCB5b3Ugc2hvdWxkIGV4dGVuZCB0aGUgbGljZW5zZS4nLCAnY2FwdGNoYV9wcm8nICk7Cn0gZWxzZWlmICggInlvdV9hcmVfYmFubmVkIiA9PSAkdmFsdWUtPnBhY2thZ2UgKSB7ICRlcnJvciA9IF9fKCAiVW5mb3J0dW5hdGVseSwgeW91IGhhdmUgZXhjZWVkZWQgdGhlIG51bWJlciBvZiBhdmFpbGFibGUgdHJpZXMuIiwgJ2NhcHRjaGFfcHJvJyApOwp9IGlmICggJycgPT0gJG1lc3NhZ2UgJiYgIiIgPT0gJGVycm9yICkgeyBpZiAoIGlzc2V0KCAkdmFsdWUtPnRpbWVfb3V0ICkgKSAkbWVzc2FnZSA9IF9fKCAnVGhlIGxpY2Vuc2Uga2V5IGlzIHZhbGlkLiBZb3VyIGxpY2Vuc2Ugd2lsbCBleHBpcmUgb24nLCAnY2FwdGNoYV9wcm8nICkgLiAnICcgLiAkdmFsdWUtPnRpbWVfb3V0OwplbHNlICRtZXNzYWdlID0gX18oICdUaGUgbGljZW5zZSBrZXkgaXMgdmFsaWQuJywgJ2NhcHRjaGFfcHJvJyApOyBpZiAoICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1snY2FwdGNoYS1wcm8vY2FwdGNoYV9wcm8ucGhwJ10gIT0gJGxpY2Vuc2Vfa2V5ICkgewogJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWydjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAnXSA9ICRsaWNlbnNlX2tleTsgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0aW1lX291dCddWydjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAnXSA9ICR2YWx1ZS0+dGltZV9vdXQ7CnVwZGF0ZV9vcHRpb24oICdic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucycsICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucywgJycsICd5ZXMnICk7ICRmaWxlID0gQGZvcGVuKCBkaXJuYW1lKCBfX0ZJTEVfXyApIC4gIi9saWNlbnNlX2tleS50eHQiICwgIncrIiApOwppZiAoICRmaWxlICkgeyBAZndyaXRlKCAkZmlsZSwgJGxpY2Vuc2Vfa2V5ICk7IEBmY2xvc2UoICRmaWxlICk7IH0gfSB9IH0gfSBlbHNlIHsgJGVycm9yIC49IF9fKCAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFRyeSBhZ2FpbiBsYXRlci4gSWYgdGhlIGVycm9yIHdpbGwgYXBwZWFyIGFnYWluLCBwbGVhc2UsIGNvbnRhY3QgdXMgPGEgaHJlZj1odHRwOi8vc3VwcG9ydC5iZXN0d2Vic29mdC5jb20+QmVzdFdlYlNvZnQ8L2E+LiBXZSBhcmUgc29ycnkgZm9yIGluY29udmllbmllbmNlLicsICdjYXB0Y2hhX3BybycgKTsgCiB9IH0gfSB9IGVsc2UgeyAkZXJyb3IgLj0gX18oICdQbGVhc2UsIGVudGVyIHlvdXIgbGljZW5zZSBrZXknLCAnY2FwdGNoYV9wcm8nICk7IH0gfSA/PiA8ZGl2IGNsYXNzPSJ3cmFwIj4KIDxkaXYgY2xhc3M9Imljb24zMiBpY29uMzItYndzIiBpZD0iaWNvbi1vcHRpb25zLWdlbmVyYWwiPjwvZGl2PiA8aDI+PD9waHAgX2UoICdDYXB0Y2hhIFBybyBTZXR0aW5ncycsICdjYXB0Y2hhX3BybycgKTsgPz48L2gyPgogPGRpdiBjbGFzcz0idXBkYXRlZCBmYWRlIiA8P3BocCBpZiAoICEgKCBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX2Zvcm1fc3VibWl0J10gKSB8fCBpc3NldCggJF9QT1NUWydjcHRjaHByX2xpY2Vuc2Vfc3VibWl0J10gKSApIHx8ICRlcnJvciAhPSAiIiApIGVjaG8gInN0eWxlPVwiZGlzcGxheTpub25lXCIiOyA/Pj48cD48c3Ryb25nPjw/cGhwIGVjaG8gJG1lc3NhZ2U7ID8+PC9zdHJvbmc+PC9wPjwvZGl2PgogPGRpdiBjbGFzcz0iZXJyb3IiIDw/cGhwIGlmKCAiIiA9PSAkZXJyb3IgKSBlY2hvICJzdHlsZT1cImRpc3BsYXk6bm9uZVwiIjsgPz4+PHA+PHN0cm9uZz48P3BocCBlY2hvICRlcnJvcjsgPz48L3N0cm9uZz48L3A+PC9kaXY+CiA8ZGl2IGlkPSJjcHRjaHByX3NldHRpbmdzX25vdGljZSIgY2xhc3M9InVwZGF0ZWQgZmFkZSIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PHA+PHN0cm9uZz48P3BocCBfZSggIk5vdGljZToiLCAnY2FwdGNoYScgKTsgPz48L3N0cm9uZz4gPD9waHAgX2UoICJUaGUgcGx1Z2luJ3Mgc2V0dGluZ3MgaGF2ZSBiZWVuIGNoYW5nZWQuIEluIG9yZGVyIHRvIHNhdmUgdGhlbSBwbGVhc2UgZG9uJ3QgZm9yZ2V0IHRvIGNsaWNrIHRoZSAnU2F2ZSBDaGFuZ2VzJyBidXR0b24uIiwgJ2NhcHRjaGEnICk7ID8+PC9wPjwvZGl2PgogPGZvcm0gaWQ9ImNwdGNocHJfc2V0dGluZ3NfZm9ybSIgbWV0aG9kPSJwb3N0IiBhY3Rpb249ImFkbWluLnBocD9wYWdlPWNhcHRjaGFfcHJvLnBocCI+IDx0YWJsZSBjbGFzcz0iZm9ybS10YWJsZSI+CiA8dHIgdmFsaWduPSJ0b3AiPiA8dGggc2NvcGU9InJvdyI+PD9waHAgX2UoICdFbmFibGUgQ0FQVENIQSBmb3I6JywgJ2NhcHRjaGFfcHJvJyApOyA/PiA8L3RoPiA8dGQ+CiA8P3BocCBmb3JlYWNoICggJGNwdGNocHJfYWRtaW5fZmllbGRzX2VuYWJsZSBhcyAkZmllbGRzICkgeyA/PiA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSI8P3BocCBlY2hvICRmaWVsZHNbMF07ID8+IiB2YWx1ZT0iPD9waHAgZWNobyAkZmllbGRzWzBdOyA/PiIgPD9waHAgaWYoIDEgPT0gJGNwdGNocHJfb3B0aW9uc1sgJGZpZWxkc1swXSBdICkgZWNobyAiY2hlY2tlZD1cImNoZWNrZWRcIiI7ID8+IC8+IDw/cGhwIGVjaG8gX18oICRmaWVsZHNbMV0sICdjYXB0Y2hhX3BybycgKTsgPz48L2xhYmVsPjxiciAvPgogPD9waHAgfSAkYWxsX3BsdWdpbnMgPSBnZXRfcGx1Z2lucygpOyAkYWN0aXZlX3BsdWdpbnMgPSBnZXRfb3B0aW9uKCAnYWN0aXZlX3BsdWdpbnMnICk7IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdpc19wbHVnaW5fYWN0aXZlX2Zvcl9uZXR3b3JrJyApICkKIHJlcXVpcmVfb25jZSggQUJTUEFUSCAuICcvd3AtYWRtaW4vaW5jbHVkZXMvcGx1Z2luLnBocCcgKTsgaWYgKCBhcnJheV9rZXlfZXhpc3RzKCAnY29udGFjdC1mb3JtLXBsdWdpbi9jb250YWN0X2Zvcm0ucGhwJywgJGFsbF9wbHVnaW5zICkgfHwgYXJyYXlfa2V5X2V4aXN0cygnY29udGFjdC1mb3JtLXByby9jb250YWN0X2Zvcm1fcHJvLnBocCcsICRhbGxfcGx1Z2lucyApICkgewogaWYgKCAwIDwgY291bnQoIHByZWdfZ3JlcCggJy9jb250YWN0LWZvcm0tcGx1Z2luXC9jb250YWN0X2Zvcm0ucGhwLycsICRhY3RpdmVfcGx1Z2lucyApICkgfHwgMCA8IGNvdW50KCBwcmVnX2dyZXAoICcvY29udGFjdC1mb3JtLXByb1wvY29udGFjdF9mb3JtX3Byby5waHAvJywgJGFjdGl2ZV9wbHVnaW5zICkgKSB8fAogaXNfcGx1Z2luX2FjdGl2ZV9mb3JfbmV0d29yayggJ2NvbnRhY3QtZm9ybS1wbHVnaW4vY29udGFjdF9mb3JtLnBocCcgKSB8fCBpc19wbHVnaW5fYWN0aXZlX2Zvcl9uZXR3b3JrKCAnY29udGFjdC1mb3JtLXByby9jb250YWN0X2Zvcm1fcHJvLnBocCcgKSApIHsgPz4KIDxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImNwdGNocHJfY29udGFjdF9mb3JtIiB2YWx1ZT0iMSIgPD9waHAgaWYgKCAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfY29udGFjdF9mb3JtJ10gKSBlY2hvICJjaGVja2VkPVwiY2hlY2tlZFwiIjsgPz4gLz4gPD9waHAgX2UoICdDb250YWN0IGZvcm0nLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9sYWJlbD4gPHNwYW4gc3R5bGU9ImNvbG9yOiAjODg4ODg4O2ZvbnQtc2l6ZTogMTBweDsiPig8P3BocCBfZSggJ3Bvd2VyZWQgYnknLCAnY2FwdGNoYV9wcm8nICk7ID8+IDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vcGx1Z2luLyI+YmVzdHdlYnNvZnQuY29tPC9hPik8L3NwYW4+PGJyIC8+CiA8P3BocCB9IGVsc2UgeyA/PiA8bGFiZWw+PGlucHV0IGRpc2FibGVkPSdkaXNhYmxlZCcgdHlwZT0iY2hlY2tib3giIG5hbWU9ImNwdGNocHJfY29udGFjdF9mb3JtIiB2YWx1ZT0iMSIgPD9waHAgaWYgKCAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfY29udGFjdF9mb3JtJ10gKSBlY2hvICJjaGVja2VkPVwiY2hlY2tlZFwiIjsgPz4gLz4gPD9waHAgX2UoICdDb250YWN0IGZvcm0nLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9sYWJlbD4gPHNwYW4gc3R5bGU9ImNvbG9yOiAjODg4ODg4O2ZvbnQtc2l6ZTogMTBweDsiPig8P3BocCBfZSggJ3Bvd2VyZWQgYnknLCAnY2FwdGNoYV9wcm8nICk7ID8+IDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vcGx1Z2luLyI+YmVzdHdlYnNvZnQuY29tPC9hPikgPGEgaHJlZj0iPD9waHAgZWNobyBibG9naW5mbygidXJsIik7ID8+L3dwLWFkbWluL3BsdWdpbnMucGhwIj48P3BocCBfZSggJ0FjdGl2YXRlIGNvbnRhY3QgZm9ybScsICdjYXB0Y2hhX3BybycgKTsgPz48L2E+PC9zcGFuPjxiciAvPgogPD9waHAgfSB9IGVsc2UgeyA/PiA8bGFiZWw+PGlucHV0IGRpc2FibGVkPSdkaXNhYmxlZCcgdHlwZT0iY2hlY2tib3giIG5hbWU9ImNwdGNocHJfY29udGFjdF9mb3JtIiB2YWx1ZT0iMSIgPD9waHAgaWYgKCAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfY29udGFjdF9mb3JtJ10gKSBlY2hvICJjaGVja2VkPVwiY2hlY2tlZFwiIjsgPz4gLz4gPD9waHAgX2UoICdDb250YWN0IGZvcm0nLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9sYWJlbD4gPHNwYW4gc3R5bGU9ImNvbG9yOiAjODg4ODg4O2ZvbnQtc2l6ZTogMTBweDsiPig8P3BocCBfZSggJ3Bvd2VyZWQgYnknLCAnY2FwdGNoYV9wcm8nICk7ID8+IDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vcGx1Z2luLyI+YmVzdHdlYnNvZnQuY29tPC9hPikgPGEgaHJlZj0iaHR0cDovL2Jlc3R3ZWJzb2Z0LmNvbS9wbHVnaW4vY29udGFjdC1mb3JtLXByby8/az05YWI5ZDM1OGFkM2EyM2I4YTk5YTgzMjg1OTVlZGUyZSZwbj03MiZ2PTw/cGhwIGVjaG8gJHBsdWdpbl9pbmZvWyJWZXJzaW9uIl07ID8+JndwX3Y9PD9waHAgZWNobyAkd3BfdmVyc2lvbjsgPz4iPjw/cGhwIF9lKCAnRG93bmxvYWQgY29udGFjdCBmb3JtJywgJ2NhcHRjaGFfcHJvJyApOyA/PjwvYT48L3NwYW4+PGJyIC8+CiA8P3BocCB9ID8+IDxzcGFuIHN0eWxlPSJjb2xvcjogIzg4ODg4ODtmb250LXNpemU6IDEwcHg7Ij48P3BocCBfZSggJ0lmIHlvdSB3b3VsZCBsaWtlIHRvIGN1c3RvbWl6ZSB0aGlzIHBsdWdpbiBmb3IgYSBjdXN0b20gZm9ybSwgcGxlYXNlIHNlZScsICdjYXB0Y2hhX3BybycgKTsgPz4gPGEgaHJlZj0iaHR0cDovL2Jlc3R3ZWJzb2Z0LmNvbS9wbHVnaW4vY2FwdGNoYS1wcm8vI2ZhcSIgdGFyZ2V0PSJfYmxhbmsiPkZBUTwvYT48L3NwYW4+CiA8L3RkPiA8L3RyPiA8dHIgdmFsaWduPSJ0b3AiPiA8dGggc2NvcGU9InJvdyI+IDxzdHJvbmc+QnVkZHlwcmVzczwvc3Ryb25nPjxici8+IDw/cGhwIF9lKCAnRW5hYmxlIENBUFRDSEEgZm9yOicsICdjYXB0Y2hhX3BybycgKTsgPz4KIDwvdGg+IDx0ZD4gPD9waHAgaWYgKCBhcnJheV9rZXlfZXhpc3RzKCAnYnVkZHlwcmVzcy9icC1sb2FkZXIucGhwJywgJGFsbF9wbHVnaW5zICkgKSB7IGlmICggMCA8IGNvdW50KCBwcmVnX2dyZXAoICcvYnVkZHlwcmVzc1wvYnAtbG9hZGVyLnBocC8nLCAkYWN0aXZlX3BsdWdpbnMgKSApIHx8IGlzX3BsdWdpbl9hY3RpdmVfZm9yX25ldHdvcmsoICdidWRkeXByZXNzL2JwLWxvYWRlci5waHAnICkgKSB7ID8+CiA8YnIvPiA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJjcHRjaHByX2J1ZGR5cHJlc3NfcmVnaXN0ZXJfZm9ybSIgdmFsdWU9IjEiIDw/cGhwIGlmICggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2J1ZGR5cHJlc3NfcmVnaXN0ZXJfZm9ybSddICkgZWNobyAiY2hlY2tlZD1cImNoZWNrZWRcIiI7ID8+IC8+IDw/cGhwIF9lKCAnUmVnaXN0cmF0aW9uIGZvcm0nLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9sYWJlbD48YnIgLz4KIDxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImNwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X2Zvcm0iIHZhbHVlPSIxIiA8P3BocCBpZiAoIDEgPT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9idWRkeXByZXNzX2NvbW1lbnRfZm9ybSddICkgZWNobyAiY2hlY2tlZD1cImNoZWNrZWRcIiI7ID8+IC8+IDw/cGhwIF9lKCAnQ29tbWVudHMgZm9ybScsICdjYXB0Y2hhX3BybycgKTsgPz48L2xhYmVsPjxiciAvPgogPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iY3B0Y2hwcl9idWRkeXByZXNzX2dyb3VwX2Zvcm0iIHZhbHVlPSIxIiA8P3BocCBpZiAoIDEgPT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9idWRkeXByZXNzX2dyb3VwX2Zvcm0nXSApIGVjaG8gImNoZWNrZWQ9XCJjaGVja2VkXCIiOyA/PiAvPiA8P3BocCBfZSggJyJDcmVhdGUgYSBHcm91cCIgZm9ybScsICdjYXB0Y2hhX3BybycgKTsgPz48L2xhYmVsPiAKIDw/cGhwIH0gZWxzZSB7ID8+IDxzcGFuIHN0eWxlPSJjb2xvcjogIzg4ODg4ODtmb250LXNpemU6IDEwcHg7Ij48P3BocCBfZSggJ1lvdSBzaG91bGQnLCAnY2FwdGNoYV9wcm8nICk7ID8+IDxhIGhyZWY9Ijw/cGhwIGVjaG8gYmxvZ2luZm8oInVybCIpOyA/Pi93cC1hZG1pbi9wbHVnaW5zLnBocCI+PD9waHAgX2UoICdhY3RpdmF0ZSBCdWRkeXByZXNzJywgJ2NhcHRjaGFfcHJvJyApOyA/PjwvYT4gPD9waHAgX2UoICd0byB1c2UgdGhpcyBmdW5jdGlvbmFsaXR5JywgJ2NhcHRjaGFfcHJvJyApOyA/Pjwvc3Bhbj48YnIvPgogPGxhYmVsPjxpbnB1dCBkaXNhYmxlZD0nZGlzYWJsZWQnIHR5cGU9ImNoZWNrYm94IiBuYW1lPSJjcHRjaHByX2J1ZGR5cHJlc3NfcmVnaXN0ZXJfZm9ybSIgdmFsdWU9IjEiIDw/cGhwIGlmICggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2J1ZGR5cHJlc3NfcmVnaXN0ZXJfZm9ybSddICkgZWNobyAiY2hlY2tlZD1cImNoZWNrZWRcIiI7ID8+IC8+IDw/cGhwIF9lKCAnUmVnaXN0cmF0aW9uIGZvcm0nLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9sYWJlbD48YnIgLz4KIDxsYWJlbD48aW5wdXQgZGlzYWJsZWQ9J2Rpc2FibGVkJyB0eXBlPSJjaGVja2JveCIgbmFtZT0iY3B0Y2hwcl9idWRkeXByZXNzX2NvbW1lbnRfZm9ybSIgdmFsdWU9IjEiIDw/cGhwIGlmICggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2J1ZGR5cHJlc3NfY29tbWVudF9mb3JtJ10gKSBlY2hvICJjaGVja2VkPVwiY2hlY2tlZFwiIjsgPz4gLz4gPD9waHAgX2UoICdDb21tZW50cyBmb3JtJywgJ2NhcHRjaGFfcHJvJyApOyA/PjwvbGFiZWw+PGJyIC8+CiA8bGFiZWw+PGlucHV0IGRpc2FibGVkPSdkaXNhYmxlZCcgdHlwZT0iY2hlY2tib3giIG5hbWU9ImNwdGNocHJfYnVkZHlwcmVzc19ncm91cF9mb3JtIiB2YWx1ZT0iMSIgPD9waHAgaWYgKCAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfYnVkZHlwcmVzc19ncm91cF9mb3JtJ10gKSBlY2hvICJjaGVja2VkPVwiY2hlY2tlZFwiIjsgPz4gLz4gPD9waHAgX2UoICciQ3JlYXRlIGEgR3JvdXAiIGZvcm0nLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9sYWJlbD4KIDw/cGhwIH0gfSBlbHNlIHsgPz4gPHNwYW4gc3R5bGU9ImNvbG9yOiAjODg4ODg4O2ZvbnQtc2l6ZTogMTBweDsiPjw/cGhwIF9lKCAnWW91IHNob3VsZCcsICdjYXB0Y2hhX3BybycgKTsgPz4gPGEgaHJlZj0iaHR0cDovL3dvcmRwcmVzcy5vcmcvcGx1Z2lucy9idWRkeXByZXNzLyI+PD9waHAgX2UoICdkb3dubG9hZCBCdWRkeXByZXNzJywgJ2NhcHRjaGFfcHJvJyApOyA/PjwvYT4gPD9waHAgX2UoICd0byB1c2UgdGhpcyBmdW5jdGlvbmFsaXR5JywgJ2NhcHRjaGFfcHJvJyApOyA/Pjwvc3Bhbj48YnIvPgogPGxhYmVsPjxpbnB1dCBkaXNhYmxlZD0nZGlzYWJsZWQnIHR5cGU9ImNoZWNrYm94IiBuYW1lPSJjcHRjaHByX2J1ZGR5cHJlc3NfcmVnaXN0ZXJfZm9ybSIgdmFsdWU9IjEiIDw/cGhwIGlmICggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2J1ZGR5cHJlc3NfcmVnaXN0ZXJfZm9ybSddICkgZWNobyAiY2hlY2tlZD1cImNoZWNrZWRcIiI7ID8+IC8+IDw/cGhwIF9lKCAnUmVnaXN0cmF0aW9uIGZvcm0nLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9sYWJlbD48YnIgLz4KIDxsYWJlbD48aW5wdXQgZGlzYWJsZWQ9J2Rpc2FibGVkJyB0eXBlPSJjaGVja2JveCIgbmFtZT0iY3B0Y2hwcl9idWRkeXByZXNzX2NvbW1lbnRfZm9ybSIgdmFsdWU9IjEiIDw/cGhwIGlmICggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2J1ZGR5cHJlc3NfY29tbWVudF9mb3JtJ10gKSBlY2hvICJjaGVja2VkPVwiY2hlY2tlZFwiIjsgPz4gLz4gPD9waHAgX2UoICdDb21tZW50cyBmb3JtJywgJ2NhcHRjaGFfcHJvJyApOyA/PjwvbGFiZWw+PGJyIC8+CiA8bGFiZWw+PGlucHV0IGRpc2FibGVkPSdkaXNhYmxlZCcgdHlwZT0iY2hlY2tib3giIG5hbWU9ImNwdGNocHJfYnVkZHlwcmVzc19ncm91cF9mb3JtIiB2YWx1ZT0iMSIgPD9waHAgaWYgKCAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfYnVkZHlwcmVzc19ncm91cF9mb3JtJ10gKSBlY2hvICJjaGVja2VkPVwiY2hlY2tlZFwiIjsgPz4gLz4gPD9waHAgX2UoICciQ3JlYXRlIGEgR3JvdXAiIGZvcm0nLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9sYWJlbD4KIDw/cGhwIH0gPz4gPC90ZD4gPC90cj4gPHRyIHZhbGlnbj0idG9wIj4gPHRoIHNjb3BlPSJyb3ciPiA8c3Ryb25nPkNvbnRhY3QgRm9ybSA3PC9zdHJvbmc+PGJyLz4KIDw/cGhwIF9lKCAnRW5hYmxlIENBUFRDSEE6JywgJ2NhcHRjaGFfcHJvJyApOyA/PiA8L3RoPiA8dGQ+IDw/cGhwIGlmICggYXJyYXlfa2V5X2V4aXN0cyggJ2NvbnRhY3QtZm9ybS03L3dwLWNvbnRhY3QtZm9ybS03LnBocCcsICRhbGxfcGx1Z2lucyApICkgewogaWYgKCAwIDwgY291bnQoIHByZWdfZ3JlcCggJy9jb250YWN0LWZvcm0tN1wvd3AtY29udGFjdC1mb3JtLTcucGhwLycsICRhY3RpdmVfcGx1Z2lucyApICkgfHwgaXNfcGx1Z2luX2FjdGl2ZV9mb3JfbmV0d29yayggJ2NvbnRhY3QtZm9ybS03L3dwLWNvbnRhY3QtZm9ybS03LnBocCcgKSApIHsKICRjZjdfaW5mbyA9IGdldF9wbHVnaW5fZGF0YSggZGlybmFtZSggZGlybmFtZSggX19GSUxFX18gKSApIC4gJy9jb250YWN0LWZvcm0tNy93cC1jb250YWN0LWZvcm0tNy5waHAnICk7CmlmICggJGNmN19pbmZvWydWZXJzaW9uJ10gPCAnMy40JyApIHsgPz4gPHNwYW4gc3R5bGU9ImNvbG9yOiAjODg4ODg4O2ZvbnQtc2l6ZTogMTBweDsiPjw/cGhwIF9lKCAnWW91IHNob3VsZCcsICdjYXB0Y2hhX3BybycgKTsgPz4gPGEgaHJlZj0icGx1Z2lucy5waHAiPjw/cGhwIF9lKCAndXBkYXRlJywgJ2NhcHRjaGFfcHJvJyApOyA/PiBDb250YWN0IEZvcm0gNzwvYT4gPD9waHAgX2UoICdhdCBsZWFzdCB1cCB0byB2My40IHNvIHRoYXQg0KFhcHRjaGEgY291bGQgd29yayBjb3JyZWN0bHkgd2l0aCBpdCcsICdjYXB0Y2hhX3BybycgKTsgPz48L3NwYW4+PGJyLz4KIDw/cGhwIH0gZWxzZSB7ID8+IDxici8+IDw/cGhwIH0gPz4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJjcHRjaHByX2NmNyIgdmFsdWU9IjEiIDw/cGhwIGlmICggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2NmNyddICkgZWNobyAiY2hlY2tlZD1cImNoZWNrZWRcIiI7ID8+IC8+CiA8P3BocCB9IGVsc2UgeyA/PiA8c3BhbiBzdHlsZT0iY29sb3I6ICM4ODg4ODg7Zm9udC1zaXplOiAxMHB4OyI+PD9waHAgX2UoICdZb3Ugc2hvdWxkJywgJ2NhcHRjaGFfcHJvJyApOyA/PiA8YSBocmVmPSI8P3BocCBlY2hvIGJsb2dpbmZvKCJ1cmwiKTsgPz4vd3AtYWRtaW4vcGx1Z2lucy5waHAiPjw/cGhwIF9lKCAnYWN0aXZhdGUnLCAnY2FwdGNoYV9wcm8nICk7ID8+IENvbnRhY3QgRm9ybSA3PC9hPiA8P3BocCBfZSggJ3RvIHVzZSB0aGlzIGZ1bmN0aW9uYWxpdHknLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9zcGFuPjxici8+CiA8aW5wdXQgZGlzYWJsZWQ9J2Rpc2FibGVkJyB0eXBlPSJjaGVja2JveCIgbmFtZT0iY3B0Y2hwcl9jZjciIHZhbHVlPSIxIiA8P3BocCBpZiAoIDEgPT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9jZjcnXSApIGVjaG8gImNoZWNrZWQ9XCJjaGVja2VkXCIiOyA/PiAvPgogPD9waHAgfSB9IGVsc2UgeyA/PiA8c3BhbiBzdHlsZT0iY29sb3I6ICM4ODg4ODg7Zm9udC1zaXplOiAxMHB4OyI+PD9waHAgX2UoICdZb3Ugc2hvdWxkJywgJ2NhcHRjaGFfcHJvJyApOyA/PiA8YSBocmVmPSJodHRwOi8vd29yZHByZXNzLm9yZy9wbHVnaW5zL2NvbnRhY3QtZm9ybS03LyI+PD9waHAgX2UoICdkb3dubG9hZCcsICdjYXB0Y2hhX3BybycgKTsgPz4gQ29udGFjdCBGb3JtIDc8L2E+IDw/cGhwIF9lKCAndG8gdXNlIHRoaXMgZnVuY3Rpb25hbGl0eScsICdjYXB0Y2hhX3BybycgKTsgPz48L3NwYW4+PGJyLz4KIDxpbnB1dCBkaXNhYmxlZD0nZGlzYWJsZWQnIHR5cGU9ImNoZWNrYm94IiBuYW1lPSJjcHRjaHByX2NmNyIgdmFsdWU9IjEiIDw/cGhwIGlmICggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2NmNyddICkgZWNobyAiY2hlY2tlZD1cImNoZWNrZWRcIiI7ID8+IC8+CiA8P3BocCB9ID8+IDwvdGQ+IDwvdHI+IDx0ciB2YWxpZ249InRvcCI+IDx0aCBzY29wZT0icm93Ij48P3BocCBfZSggJ1RpdGxlIGZvciBDQVBUQ0hBIGluIHRoZSBmb3JtJywgJ2NhcHRjaGFfcHJvJyApOyA/PjwvdGg+CiA8dGQ+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImNwdGNocHJfbGFiZWxfZm9ybSIgdmFsdWU9Ijw/cGhwIGVjaG8gc3RyaXBzbGFzaGVzKCAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2xhYmVsX2Zvcm0nXSApOyA/PiIgPD9waHAgaWYgKCAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfbGFiZWxfZm9ybSddICkgZWNobyAiY2hlY2tlZD1cImNoZWNrZWRcIiI7ID8+IC8+PC90ZD4KIDwvdHI+IDx0ciB2YWxpZ249InRvcCI+IDx0aCBzY29wZT0icm93IiBzdHlsZT0id2lkdGg6MjAwcHg7Ij48P3BocCBfZSggIlJlcXVpcmVkIHN5bWJvbCIsICdjYXB0Y2hhX3BybycgKTsgPz48L3RoPgogPHRkIGNvbHNwYW49IjIiPiA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iY3B0Y2hwcl9yZXF1aXJlZF9zeW1ib2wiIHZhbHVlPSI8P3BocCBlY2hvICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfcmVxdWlyZWRfc3ltYm9sJ107ID8+IiAvPgogPC90ZD4gPC90cj4gPHRyIHZhbGlnbj0idG9wIj4gPHRoIHNjb3BlPSJyb3ciPjw/cGhwIF9lKCAnQXJpdGhtZXRpYyBhY3Rpb25zIGZvciBDQVBUQ0hBJywgJ2NhcHRjaGFfcHJvJyApOyA/PjwvdGg+CiA8dGQ+IDw/cGhwIGZvcmVhY2goICRjcHRjaHByX2FkbWluX2ZpZWxkc19hY3Rpb25zIGFzICRhY3Rpb25zICkgeyA/PiA8ZGl2IHN0eWxlPSJmbG9hdDpsZWZ0OyB3aWR0aDoxNTBweDtjbGVhcjogYm90aDsiPgogPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iPD9waHAgZWNobyAkYWN0aW9uc1swXTsgPz4iIHZhbHVlPSI8P3BocCBlY2hvICRjcHRjaHByX29wdGlvbnNbJGFjdGlvbnNbMF1dOyA/PiIgPD9waHAgaWYgKCAxID09ICRjcHRjaHByX29wdGlvbnNbJGFjdGlvbnNbMF1dICkgZWNobyAiY2hlY2tlZD1cImNoZWNrZWRcIiI7ID8+IC8+IDw/cGhwIGVjaG8gX18oICRhY3Rpb25zWzFdLCAnY2FwdGNoYV9wcm8nICk7ID8+PC9sYWJlbD4KIDwvZGl2PiA8ZGl2IGNsYXNzPSJjcHRjaHByX2hlbHBfYm94Ij4gPGRpdiBjbGFzcz0iY3B0Y2hwcl9oaWRkZW5faGVscF90ZXh0IiBzdHlsZT0iZGlzcGxheTogbm9uZTt3aWR0aDogYXV0bzsiPjw/cGhwIGNwdGNocHJfZGlzcGxheV9leGFtcGxlKCAkYWN0aW9uc1swXSApOyA/PjwvZGl2PgogPC9kaXY+IDxiciAvPiA8P3BocCB9ID8+IDwvdGQ+IDwvdHI+IDx0ciB2YWxpZ249InRvcCI+IDx0aCBzY29wZT0icm93Ij48P3BocCBfZSggJ0NBUFRDSEEgY29tcGxleGl0eSBsZXZlbCcsICdjYXB0Y2hhX3BybycgKTsgPz48L3RoPgogPHRkPiA8P3BocCBmb3JlYWNoICggJGNwdGNocHJfYWRtaW5fZmllbGRzX2RpZmZpY3VsdHkgYXMgJGRpZmYgKSB7ID8+IDxkaXYgc3R5bGU9ImZsb2F0OmxlZnQ7IHdpZHRoOjE1MHB4O2NsZWFyOiBib3RoOyI+CiA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSI8P3BocCBlY2hvICRkaWZmWzBdOyA/PiIgdmFsdWU9Ijw/cGhwIGVjaG8gJGNwdGNocHJfb3B0aW9uc1skZGlmZlswXV07ID8+IiA8P3BocCBpZiAoIDEgPT0gJGNwdGNocHJfb3B0aW9uc1skZGlmZlswXV0gKSBlY2hvICJjaGVja2VkPVwiY2hlY2tlZFwiIjsgPz4gLz4gPD9waHAgZWNobyBfXyggJGRpZmZbMV0sICdjYXB0Y2hhX3BybycgKTsgPz48L2xhYmVsPgogPC9kaXY+IDxkaXYgY2xhc3M9ImNwdGNocHJfaGVscF9ib3giPiA8ZGl2IGNsYXNzPSJjcHRjaHByX2hpZGRlbl9oZWxwX3RleHQiIHN0eWxlPSJkaXNwbGF5OiBub25lO3dpZHRoOiBhdXRvOyI+PD9waHAgY3B0Y2hwcl9kaXNwbGF5X2V4YW1wbGUoICRkaWZmWzBdICk7ID8+PC9kaXY+CiA8L2Rpdj4gPGJyIC8+IDw/cGhwIH0gPz4gPC90ZD4gPC90cj4gPC90YWJsZT4gPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY3B0Y2hwcl9mb3JtX3N1Ym1pdCIgdmFsdWU9InN1Ym1pdCIgLz4KIDxwIGNsYXNzPSJzdWJtaXQiPiA8aW5wdXQgdHlwZT0ic3VibWl0IiBjbGFzcz0iYnV0dG9uLXByaW1hcnkiIHZhbHVlPSI8P3BocCBfZSggJ1NhdmUgQ2hhbmdlcycgKSA/PiIgLz4KIDwvcD4gPD9waHAgd3Bfbm9uY2VfZmllbGQoIHBsdWdpbl9iYXNlbmFtZShfX0ZJTEVfXyksICdjcHRjaHByX25vbmNlX25hbWUnICk7ID8+IDwvZm9ybT4gPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249ImFkbWluLnBocD9wYWdlPWNhcHRjaGFfcHJvLnBocCI+CiA8cD48P3BocCBlY2hvIF9lKCAnSWYgbmVlZGVkIHlvdSBjYW4gY2hlY2sgaWYgdGhlIGxpY2Vuc2Uga2V5IGlzIGNvcnJlY3Qgb3IgcmVlbnRlciBpdCBpbiB0aGUgZmllbGQgYmVsb3cuIFlvdSBjYW4gZmluZCB5b3VyIGxpY2Vuc2Uga2V5IG9uIHlvdXIgcGVyc29uYWwgcGFnZSAtIENsaWVudCBhcmVhIC0gb24gb3VyIHdlYnNpdGUnLCAnY2FwdGNoYV9wcm8nICkgLiAnIDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vd3AtbG9naW4ucGhwIj5odHRwOi8vYmVzdHdlYnNvZnQuY29tL3dwLWxvZ2luLnBocDwvYT4nIC4gX18oICcoeW91ciB1c2VybmFtZSBpcyB0aGUgZW1haWwgeW91IHNwZWNpZnkgd2hlbiBwdXJjaGFzaW5nIHRoZSBwcm9kdWN0KS4gSWYgbmVjZXNzYXJ5LCBwbGVhc2Ugc3VibWl0ICJMb3N0IHlvdXIgcGFzc3dvcmQ/IiByZXF1ZXN0LicsICdjYXB0Y2hhX3BybycgKTsgPz48L3A+CiA8cD4gPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImNwdGNocHJfbGljZW5zZV9rZXkiIHZhbHVlPSI8P3BocCBlY2hvICRsaWNlbnNlX2tleTsgPz4iIC8+IDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImNwdGNocHJfbGljZW5zZV9zdWJtaXQiIHZhbHVlPSJzdWJtaXQiIC8+CiA8aW5wdXQgdHlwZT0ic3VibWl0IiBjbGFzcz0iYnV0dG9uLXByaW1hcnkiIHZhbHVlPSI8P3BocCBfZSggJ0NoZWNrIGxpY2Vuc2Uga2V5JywgJ2NhcHRjaGFfcHJvJyApID8+IiAvPgogPD9waHAgd3Bfbm9uY2VfZmllbGQoIHBsdWdpbl9iYXNlbmFtZShfX0ZJTEVfXyksICdjcHRjaHByX2xpY2Vuc2Vfbm9uY2VfbmFtZScgKTsgPz4gPC9wPiA8L2Zvcm0+CiA8ZGl2IGNsYXNzPSJid3MtcGx1Z2luLXJldmlld3MiPiA8ZGl2IGNsYXNzPSJid3MtcGx1Z2luLXJldmlld3MtcmF0ZSI+IDw/cGhwIF9lKCAnSWYgeW91IGVuam95IG91ciBwbHVnaW4sIHBsZWFzZSBnaXZlIGl0IDUgc3RhcnMgb24gV29yZFByZXNzJywgJ2NhcHRjaGFfcHJvJyApOyA/PjogCiA8YSBocmVmPSJodHRwOi8vd29yZHByZXNzLm9yZy9zdXBwb3J0L3ZpZXcvcGx1Z2luLXJldmlld3MvY2FwdGNoYSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJDYXB0Y2hhIHJldmlld3MiPjw/cGhwIF9lKCAnUmF0ZSB0aGUgcGx1Z2luJywgJ2NhcHRjaGFfcHJvJyApOyA/PjwvYT48YnIvPgogPC9kaXY+IDxkaXYgY2xhc3M9ImJ3cy1wbHVnaW4tcmV2aWV3cy1zdXBwb3J0Ij4gPD9waHAgX2UoICdJZiB0aGVyZSBpcyBzb21ldGhpbmcgd3JvbmcgYWJvdXQgaXQsIHBsZWFzZSBjb250YWN0IHVzJywgJ2NhcHRjaGFfcHJvJyApOyA/PjogCiA8YSBocmVmPSJodHRwOi8vc3VwcG9ydC5iZXN0d2Vic29mdC5jb20iPmh0dHA6Ly9zdXBwb3J0LmJlc3R3ZWJzb2Z0LmNvbTwvYT4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4KIDw/cGhwIH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzKCAnY3B0Y2hwcl9sb2dpbl9mb3JtJyApICkgeyBmdW5jdGlvbiBjcHRjaHByX2xvZ2luX2Zvcm0oKSB7IGlmICggc2Vzc2lvbl9pZCgpID09ICIiICkKIEBzZXNzaW9uX3N0YXJ0KCk7IGdsb2JhbCAkY3B0Y2hwcl9vcHRpb25zOyBlY2hvICc8cCBjbGFzcz0iY3B0Y2hwcl9ibG9jayI+JzsgaWYgKCAiIiAhPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2xhYmVsX2Zvcm0nXSApIAogZWNobyAnPGxhYmVsPicuIHN0cmlwc2xhc2hlcyggJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9sYWJlbF9mb3JtJ10gKSAuJzwvbGFiZWw+PGJyIC8+JzsgZWNobyAnPGJyIC8+JzsKY3B0Y2hwcl9kaXNwbGF5X2NhcHRjaGEoKTsgZWNobyAnPC9wPiA8YnIgLz4nOyByZXR1cm4gdHJ1ZTsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdjcHRjaHByX2xvZ2luX2NoZWNrJyApICkgewogZnVuY3Rpb24gY3B0Y2hwcl9sb2dpbl9jaGVjayggJHVzZXIgKSB7IGdsb2JhbCAkY3B0Y2hwcl9vcHRpb25zOyBpZiAoICEgaXNzZXQoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfc3RyX2tleSddICkgKQogJGNwdGNocHJfb3B0aW9ucyA9IGdldF9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnICk7ICRzdHJfa2V5ID0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9zdHJfa2V5J11bJ2tleSddOwogaWYgKCAoICFpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgfHwgIiIgPT0gJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgaXNzZXQoICRfUkVRVUVTVFsnbG9nZ2Vkb3V0J10gKSApIHsKICRlcnJvciA9IG5ldyBXUF9FcnJvcigpOyAkZXJyb3ItPmFkZCggJ2NwdGNocHJfZXJyb3InLCBfXyggJzxzdHJvbmc+RVJST1I8L3N0cm9uZz46IFBsZWFzZSBmaWxsIHRoZSBmb3JtLicsICdjYXB0Y2hhX3BybycgKSApOwpyZXR1cm4gJGVycm9yOyB9IGlmICggaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9yZXN1bHQnXSApICYmIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSAmJiBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX3RpbWUnXSApICkgewogaWYgKCAwID09IHN0cmNhc2VjbXAoIHRyaW0oIGRlY29kZSggJF9SRVFVRVNUWydjcHRjaHByX3Jlc3VsdCddLCAkc3RyX2tleSwgJF9SRVFVRVNUWydjcHRjaHByX3RpbWUnXSApICksICRfUkVRVUVTVFsnY3B0Y2hwcl9udW1iZXInXSApICkgeyAKIHJldHVybiAkdXNlcjsgfSBlbHNlIHsgJGVycm9yID0gbmV3IFdQX0Vycm9yKCk7ICRlcnJvci0+YWRkKCAnY3B0Y2hwcl9lcnJvcicsIF9fKCAnPHN0cm9uZz5FUlJPUjwvc3Ryb25nPjogUGxlYXNlIGVudGVyIGEgdmFsaWQgQ0FQVENIQSB2YWx1ZS4nLCAnY2FwdGNoYV9wcm8nICkgKTsKcmV0dXJuICRlcnJvcjsgfSB9IGVsc2UgeyByZXR1cm4gJHVzZXI7IH0gfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9jb21tZW50X2Zvcm0nICkgKSB7CiBmdW5jdGlvbiBjcHRjaHByX2NvbW1lbnRfZm9ybSgpIHsgZ2xvYmFsICRjcHRjaHByX29wdGlvbnM7IGlmICggaXNfdXNlcl9sb2dnZWRfaW4oKSAmJiAxID09ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfaGlkZV9yZWdpc3RlciddICkgewogcmV0dXJuIHRydWU7IH0gZWNobyAnPHAgY2xhc3M9ImNwdGNocHJfYmxvY2siPic7IGlmICggIiIgIT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9sYWJlbF9mb3JtJ10gKSAKIGVjaG8gJzxsYWJlbD4nLiBzdHJpcHNsYXNoZXMoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfbGFiZWxfZm9ybSddICkgLic8c3BhbiBjbGFzcz0icmVxdWlyZWQiPiAnIC4gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9yZXF1aXJlZF9zeW1ib2wnXSAuICc8L3NwYW4+PC9sYWJlbD4nOwplY2hvICc8YnIgLz4nOyBjcHRjaHByX2Rpc3BsYXlfY2FwdGNoYSgpOyBlY2hvICc8L3A+JzsgcmV0dXJuIHRydWU7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfY29tbWVudF9mb3JtX2RlZmF1bHRfd3AzJyApICkgewogZnVuY3Rpb24gY3B0Y2hwcl9jb21tZW50X2Zvcm1fZGVmYXVsdF93cDMoICRhcmdzICl7IGdsb2JhbCAkY3B0Y2hwcl9vcHRpb25zOyBpZiAoIGlzX3VzZXJfbG9nZ2VkX2luKCkgJiYgMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2hpZGVfcmVnaXN0ZXInXSApIHsKIHJldHVybiAkYXJnczsgfSAkYXJnc1snY29tbWVudF9ub3Rlc19hZnRlciddIC49IGNwdGNocHJfY3VzdG9tX2Zvcm0oICIiICk7IHJlbW92ZV9hY3Rpb24oICdjb21tZW50X2Zvcm0nLCAnY3B0Y2hwcl9jb21tZW50X2Zvcm0nICk7CnJldHVybiAkYXJnczsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9jb21tZW50X2Zvcm1fd3AzJyApICkgeyBmdW5jdGlvbiBjcHRjaHByX2NvbW1lbnRfZm9ybV93cDMoKSB7CiBnbG9iYWwgJGNwdGNocHJfb3B0aW9uczsgaWYgKCBpc191c2VyX2xvZ2dlZF9pbigpICYmIDEgPT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9oaWRlX3JlZ2lzdGVyJ10gKSB7CiByZXR1cm4gdHJ1ZTsgfSBlY2hvICc8cCBjbGFzcz0iY3B0Y2hwcl9ibG9jayI+JzsgaWYgKCAiIiAhPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2xhYmVsX2Zvcm0nXSApIAogZWNobyAnPGxhYmVsPicuIHN0cmlwc2xhc2hlcyggJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9sYWJlbF9mb3JtJ10gKSAuJzxzcGFuIGNsYXNzPSJyZXF1aXJlZCI+ICcgLiAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3JlcXVpcmVkX3N5bWJvbCddIC4gJzwvc3Bhbj48L2xhYmVsPic7CmVjaG8gJzxiciAvPic7IGNwdGNocHJfZGlzcGxheV9jYXB0Y2hhKCk7IGVjaG8gJzwvcD4nOyByZW1vdmVfYWN0aW9uKCAnY29tbWVudF9mb3JtJywgJ2NwdGNocHJfY29tbWVudF9mb3JtJyApOwpyZXR1cm4gdHJ1ZTsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9jb21tZW50X3Bvc3QnICkgKSB7IGZ1bmN0aW9uIGNwdGNocHJfY29tbWVudF9wb3N0KCAkY29tbWVudCApIHsgCiBnbG9iYWwgJGNwdGNocHJfb3B0aW9uczsgaWYgKCBpc191c2VyX2xvZ2dlZF9pbigpICYmIDEgPT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9oaWRlX3JlZ2lzdGVyJ10gKSB7CiByZXR1cm4gJGNvbW1lbnQ7IH0gJHN0cl9rZXkgPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3N0cl9rZXknXVsna2V5J107IGlmICggZnVuY3Rpb25fZXhpc3RzKCAnV1BXYWxsX1dpZGdldCcgKSAmJiBpc3NldCggJF9SRVFVRVNUWyd3cHdhbGxfY29tbWVudCddICkgKSB7IAogcmV0dXJuICRjb21tZW50OyB9IGlmICggaXNzZXQoICRfUkVRVUVTVFsnYWN0aW9uJ10gKSAmJiAkX1JFUVVFU1RbJ2FjdGlvbiddID09ICdyZXBseXRvLWNvbW1lbnQnICYmCiAoIGNoZWNrX2FqYXhfcmVmZXJlciggJ3JlcGx5dG8tY29tbWVudCcsICdfYWpheF9ub25jZScsIGZhbHNlICkgfHwgY2hlY2tfYWpheF9yZWZlcmVyKCAncmVwbHl0by1jb21tZW50JywgJ19hamF4X25vbmNlLXJlcGx5dG8tY29tbWVudCcsIGZhbHNlICkgKSApIHsgCiByZXR1cm4gJGNvbW1lbnQ7IH0gaWYgKCAkY29tbWVudFsnY29tbWVudF90eXBlJ10gIT0gJycgJiYgJGNvbW1lbnRbJ2NvbW1lbnRfdHlwZSddICE9ICdjb21tZW50JyApIHsgCiByZXR1cm4gJGNvbW1lbnQ7IH0gaWYgKCBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgIiIgPT0gJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkKIHdwX2RpZSggX18oJ1BsZWFzZSBmaWxsIHRoZSBmb3JtLicsICdjYXB0Y2hhX3BybycgKSApOyBpZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfcmVzdWx0J10gKSAmJiBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKQogJiYgMCA9PSBzdHJjYXNlY21wKCB0cmltKCBkZWNvZGUoICRfUkVRVUVTVFsnY3B0Y2hwcl9yZXN1bHQnXSwgJHN0cl9rZXksICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKSApLCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSApIHsgCiByZXR1cm4oICRjb21tZW50ICk7IH0gZWxzZSB7IHdwX2RpZSggX18oJ0Vycm9yOiBZb3UgaGF2ZSBlbnRlcmVkIGFuIGluY29ycmVjdCBDQVBUQ0hBIHZhbHVlLiBDbGljayB0aGUgQkFDSyBidXR0b24gb24geW91ciBicm93c2VyLCBhbmQgdHJ5IGFnYWluLicsICdjYXB0Y2hhX3BybycpKTsKfSB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdjcHRjaHByX3JlZ2lzdGVyX2Zvcm0nICkgKSB7IGZ1bmN0aW9uIGNwdGNocHJfcmVnaXN0ZXJfZm9ybSgpIHsgZ2xvYmFsICRjcHRjaHByX29wdGlvbnM7IAogZWNobyAnPHAgY2xhc3M9ImNwdGNocHJfYmxvY2siIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Ij4nOyBpZiAoICIiICE9ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfbGFiZWxfZm9ybSddICkgCiBlY2hvICc8bGFiZWw+Jy4gc3RyaXBzbGFzaGVzKCAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2xhYmVsX2Zvcm0nXSApIC4nPC9sYWJlbD48YnIgLz4nOyBlY2hvICc8YnIgLz4nOwpjcHRjaHByX2Rpc3BsYXlfY2FwdGNoYSgpOyBlY2hvICc8L3A+IDxiciAvPic7IHJldHVybiB0cnVlOyB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdjcHRjaHByX3JlZ2lzdGVyX3Bvc3QnICkgKSB7CiBmdW5jdGlvbiBjcHRjaHByX3JlZ2lzdGVyX3Bvc3QoICRsb2dpbiwgJGVtYWlsLCAkZXJyb3JzICkgeyBnbG9iYWwgJGNwdGNocHJfb3B0aW9uczsgJHN0cl9rZXkgPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3N0cl9rZXknXVsna2V5J107IAogaWYgKCBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgIiIgPT0gJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgeyAkZXJyb3JzLT5hZGQoJ2NhcHRjaGFfYmxhbmsnLCAnPHN0cm9uZz4nLl9fKCdFUlJPUicsICdjYXB0Y2hhX3BybycpLic8L3N0cm9uZz46ICcuX18oJ1BsZWFzZSBmaWxsIHRoZSBmb3JtLicsICdjYXB0Y2hhX3BybycpKTsKcmV0dXJuICRlcnJvcnM7IH0gaWYgKCBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX3Jlc3VsdCddICkgJiYgaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9udW1iZXInXSApICYmIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfdGltZSddICkgCiAmJiAwID09IHN0cmNhc2VjbXAoIHRyaW0oIGRlY29kZSggJF9SRVFVRVNUWydjcHRjaHByX3Jlc3VsdCddLCAkc3RyX2tleSwgJF9SRVFVRVNUWydjcHRjaHByX3RpbWUnXSApICksICRfUkVRVUVTVFsnY3B0Y2hwcl9udW1iZXInXSApICkgeyAKIH0gZWxzZSB7ICRlcnJvcnMtPmFkZCggJ2NhcHRjaGFfd3JvbmcnLCAnPHN0cm9uZz4nLl9fKCAnRVJST1InLCAnY2FwdGNoYV9wcm8nICkuJzwvc3Ryb25nPjogJy5fXyggJ1BsZWFzZSBlbnRlciBhIHZhbGlkIENBUFRDSEEgdmFsdWUuJywgJ2NhcHRjaGFfcHJvJyApICk7Cn0gcmV0dXJuKCAkZXJyb3JzICk7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfcmVnaXN0ZXJfdmFsaWRhdGUnICkgKSB7IGZ1bmN0aW9uIGNwdGNocHJfcmVnaXN0ZXJfdmFsaWRhdGUoICRyZXN1bHRzICkgewogZ2xvYmFsICRjcHRjaHByX29wdGlvbnM7ICRzdHJfa2V5ID0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9zdHJfa2V5J11bJ2tleSddOyBpZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSAmJiAiIiA9PSAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSB7CiAkcmVzdWx0c1snZXJyb3JzJ10tPmFkZCggJ2NhcHRjaGFfYmxhbmsnLCAnPHN0cm9uZz4nIC4gX18oICdFUlJPUicsICdjYXB0Y2hhX3BybycgKSAuICc8L3N0cm9uZz46ICcgLiBfXyggJ1BsZWFzZSBmaWxsIHRoZSBmb3JtLicsICdjYXB0Y2hhX3BybycgKSApOwpyZXR1cm4gJHJlc3VsdHM7IH0gaWYgKCBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX3Jlc3VsdCddICkgJiYgaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9udW1iZXInXSApICYmIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfdGltZSddICkgCiAmJiAwID09IHN0cmNhc2VjbXAoIHRyaW0oIGRlY29kZSggJF9SRVFVRVNUWydjcHRjaHByX3Jlc3VsdCddLCAkc3RyX2tleSwgJF9SRVFVRVNUWydjcHRjaHByX3RpbWUnXSApICksICRfUkVRVUVTVFsnY3B0Y2hwcl9udW1iZXInXSApICkgeyAKIH0gZWxzZSB7ICRyZXN1bHRzWydlcnJvcnMnXS0+YWRkKCAnY2FwdGNoYV93cm9uZycsICc8c3Ryb25nPicgLiBfXyggJ0VSUk9SJywgJ2NhcHRjaGFfcHJvJyApIC4gJzwvc3Ryb25nPjogJyAuIF9fKCAnUGxlYXNlIGVudGVyIGEgdmFsaWQgQ0FQVENIQSB2YWx1ZS4nLCAnY2FwdGNoYV9wcm8nICkgKTsKfSByZXR1cm4oICRyZXN1bHRzICk7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfbG9zdHBhc3N3b3JkX3Bvc3QnICkgKSB7IGZ1bmN0aW9uIGNwdGNocHJfbG9zdHBhc3N3b3JkX3Bvc3QoKSB7CiBnbG9iYWwgJGNwdGNocHJfb3B0aW9uczsgJHN0cl9rZXkgPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3N0cl9rZXknXVsna2V5J107IGlmKCBpc3NldCggJF9SRVFVRVNUWyd1c2VyX2xvZ2luJ10gKSAmJiAiIiA9PSAkX1JFUVVFU1RbJ3VzZXJfbG9naW4nXSApCiByZXR1cm47IGlmICggaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9udW1iZXInXSApICYmICIiID09ICRfUkVRVUVTVFsnY3B0Y2hwcl9udW1iZXInXSApIHsgd3BfZGllKCBfXyggJ1BsZWFzZSBmaWxsIHRoZSBmb3JtLicsICdjYXB0Y2hhX3BybycgKSApOwp9IGlmICggaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9yZXN1bHQnXSApICYmIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSAmJiBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX3RpbWUnXSApIAogJiYgMCA9PSBzdHJjYXNlY21wKCB0cmltKCBkZWNvZGUoICRfUkVRVUVTVFsnY3B0Y2hwcl9yZXN1bHQnXSwgJHN0cl9rZXksICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKSApLCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSApIHsKIHJldHVybjsgfSBlbHNlIHsgd3BfZGllKCBfXyggJ0Vycm9yOiBZb3UgaGF2ZSBlbnRlcmVkIGFuIGluY29ycmVjdCBDQVBUQ0hBIHZhbHVlLiBDbGljayB0aGUgQkFDSyBidXR0b24gb24geW91ciBicm93c2VyLCBhbmQgdHJ5IGFnYWluLicsICdjYXB0Y2hhX3BybycgKSApOwp9IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfZGlzcGxheV9jYXB0Y2hhJyApICkgeyBmdW5jdGlvbiBjcHRjaHByX2Rpc3BsYXlfY2FwdGNoYSgpIHsKIGdsb2JhbCAkY3B0Y2hwcl9vcHRpb25zLCAkY3B0Y2hwcl90aW1lOyBpZiAoICEgaXNzZXQoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfc3RyX2tleSddICkgKSAkY3B0Y2hwcl9vcHRpb25zID0gZ2V0X29wdGlvbiggJ2NwdGNocHJfb3B0aW9ucycgKTsKaWYgKCAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3N0cl9rZXknXVsna2V5J10gPT0gJycgfHwgJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9zdHJfa2V5J11bJ3RpbWUnXSA8IHRpbWUoKSAtICggMjQgKiA2MCAqIDYwICkgKQogY3B0Y2hwcl9nZW5lcmF0ZV9rZXkoKTsgJHN0cl9rZXkgPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3N0cl9rZXknXVsna2V5J107ICRudW1iZXJfc3RyaW5nID0gYXJyYXkoKTsgCiAkbnVtYmVyX3N0cmluZ1swXSA9IF9fKCAnemVybycsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl9zdHJpbmdbMV0gPSBfXyggJ29uZScsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl9zdHJpbmdbMl0gPSBfXyggJ3R3bycsICdjYXB0Y2hhX3BybycgKTsKJG51bWJlcl9zdHJpbmdbM10gPSBfXyggJ3RocmVlJywgJ2NhcHRjaGFfcHJvJyApOyAkbnVtYmVyX3N0cmluZ1s0XSA9IF9fKCAnZm91cicsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl9zdHJpbmdbNV0gPSBfXyggJ2ZpdmUnLCAnY2FwdGNoYV9wcm8nICk7CiRudW1iZXJfc3RyaW5nWzZdID0gX18oICdzaXgnLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfc3RyaW5nWzddID0gX18oICdzZXZlbicsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl9zdHJpbmdbOF0gPSBfXyggJ2VpZ2h0JywgJ2NhcHRjaGFfcHJvJyApOwokbnVtYmVyX3N0cmluZ1s5XSA9IF9fKCAnbmluZScsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl90d29fc3RyaW5nID0gYXJyYXkoKTsgJG51bWJlcl90d29fc3RyaW5nWzFdID0gX18oICdlbGV2ZW4nLCAnY2FwdGNoYV9wcm8nICk7CiRudW1iZXJfdHdvX3N0cmluZ1syXSA9IF9fKCAndHdlbHZlJywgJ2NhcHRjaGFfcHJvJyApOyAkbnVtYmVyX3R3b19zdHJpbmdbM10gPSBfXyggJ3RoaXJ0ZWVuJywgJ2NhcHRjaGFfcHJvJyApOwokbnVtYmVyX3R3b19zdHJpbmdbNF0gPSBfXyggJ2ZvdXJ0ZWVuJywgJ2NhcHRjaGFfcHJvJyApOyAkbnVtYmVyX3R3b19zdHJpbmdbNV0gPSBfXyggJ2ZpZnRlZW4nLCAnY2FwdGNoYV9wcm8nICk7CiRudW1iZXJfdHdvX3N0cmluZ1s2XSA9IF9fKCAnc2l4dGVlbicsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl90d29fc3RyaW5nWzddID0gX18oICdzZXZlbnRlZW4nLCAnY2FwdGNoYV9wcm8nICk7CiRudW1iZXJfdHdvX3N0cmluZ1s4XSA9IF9fKCAnZWlnaHRlZW4nLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfdHdvX3N0cmluZ1s5XSA9IF9fKCAnbmluZXRlZW4nLCAnY2FwdGNoYV9wcm8nICk7IAogJG51bWJlcl90aHJlZV9zdHJpbmcgPSBhcnJheSgpOyAkbnVtYmVyX3RocmVlX3N0cmluZ1sxXSA9IF9fKCAndGVuJywgJ2NhcHRjaGFfcHJvJyApOyAkbnVtYmVyX3RocmVlX3N0cmluZ1syXSA9IF9fKCAndHdlbnR5JywgJ2NhcHRjaGFfcHJvJyApOwokbnVtYmVyX3RocmVlX3N0cmluZ1szXSA9IF9fKCAndGhpcnR5JywgJ2NhcHRjaGFfcHJvJyApOyAkbnVtYmVyX3RocmVlX3N0cmluZ1s0XSA9IF9fKCAnZm9ydHknLCAnY2FwdGNoYV9wcm8nICk7CiRudW1iZXJfdGhyZWVfc3RyaW5nWzVdID0gX18oICdmaWZ0eScsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl90aHJlZV9zdHJpbmdbNl0gPSBfXyggJ3NpeHR5JywgJ2NhcHRjaGFfcHJvJyApOwokbnVtYmVyX3RocmVlX3N0cmluZ1s3XSA9IF9fKCAnc2V2ZW50eScsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl90aHJlZV9zdHJpbmdbOF0gPSBfXyggJ2VpZ2h0eScsICdjYXB0Y2hhX3BybycgKTsKJG51bWJlcl90aHJlZV9zdHJpbmdbOV0gPSBfXyggJ25pbmV0eScsICdjYXB0Y2hhX3BybycgKTsgJG1hdGhfYWN0aW9ucyA9IGFycmF5KCk7IGlmICggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX21hdGhfYWN0aW9uX3BsdXMnXSApCiAkbWF0aF9hY3Rpb25zW10gPSAnJiM0MzsnOyBpZiAoIDEgPT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9tYXRoX2FjdGlvbl9taW51cyddICkgJG1hdGhfYWN0aW9uc1tdID0gJyZtaW51czsnOyAKIGlmICggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX21hdGhfYWN0aW9uX2luY3JlYXNlJ10gKSAkbWF0aF9hY3Rpb25zW10gPSAnJnRpbWVzOyc7ICRyYW5kX2lucHV0ID0gcmFuZCggMCwgMiApOyAKICRyYW5kX251bWJlcl9zdHJpbmcgPSByYW5kKCAwLCAyICk7IGlmICggMCA9PSAkY3B0Y2hwcl9vcHRpb25zWyJjcHRjaHByX2RpZmZpY3VsdHlfd29yZCJdICkgJHJhbmRfbnVtYmVyX3N0cmluZyA9IC0xOyAKIHdoaWxlICggJHJhbmRfaW5wdXQgPT0gJHJhbmRfbnVtYmVyX3N0cmluZyApIHsgJHJhbmRfbnVtYmVyX3N0cmluZyA9IHJhbmQoIDAsIDIgKTsgfSAkcmFuZF9tYXRoX2FjdGlvbiA9IHJhbmQoIDAsIGNvdW50KCAkbWF0aF9hY3Rpb25zKSAtIDEgKTsKJGFycmF5X21hdGhfZXhwcmV0aW9uID0gYXJyYXkoKTsgJGFycmF5X21hdGhfZXhwcmV0aW9uWzBdID0gcmFuZCggMSwgOSApOyAkYXJyYXlfbWF0aF9leHByZXRpb25bMV0gPSByYW5kKCAxLCA5ICk7IAogc3dpdGNoKCAkbWF0aF9hY3Rpb25zWyAkcmFuZF9tYXRoX2FjdGlvbiBdICkgeyBjYXNlICImIzQzOyI6ICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSA9ICRhcnJheV9tYXRoX2V4cHJldGlvblswXSArICRhcnJheV9tYXRoX2V4cHJldGlvblsxXTsKYnJlYWs7IGNhc2UgIiZtaW51czsiOiBpZiAoICRhcnJheV9tYXRoX2V4cHJldGlvblswXSA8ICRhcnJheV9tYXRoX2V4cHJldGlvblsxXSApIHsgJG51bWJlciA9ICRhcnJheV9tYXRoX2V4cHJldGlvblswXTsKJGFycmF5X21hdGhfZXhwcmV0aW9uWzBdID0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzFdOyAkYXJyYXlfbWF0aF9leHByZXRpb25bMV0gPSAkbnVtYmVyOyB9ICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSA9ICRhcnJheV9tYXRoX2V4cHJldGlvblswXSAtICRhcnJheV9tYXRoX2V4cHJldGlvblsxXTsKYnJlYWs7IGNhc2UgIiZ0aW1lczsiOiAkYXJyYXlfbWF0aF9leHByZXRpb25bMl0gPSAkYXJyYXlfbWF0aF9leHByZXRpb25bMF0gKiAkYXJyYXlfbWF0aF9leHByZXRpb25bMV07CmJyZWFrOyB9ICRzdHJfbWF0aF9leHByZXRpb24gPSAiIjsgaWYgKCAwID09ICRyYW5kX2lucHV0ICkgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiPGlucHV0IGlkPVwiY3B0Y2hwcl9pbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgbmFtZT1cImNwdGNocHJfbnVtYmVyXCIgdmFsdWU9XCJcIiBtYXhsZW5ndGg9XCIyXCIgc2l6ZT1cIjJcIiBhcmlhLXJlcXVpcmVkPVwidHJ1ZVwiIHJlcXVpcmVkPVwicmVxdWlyZWRcIiBzdHlsZT1cIm1hcmdpbi1ib3R0b206MDtkaXNwbGF5OmlubGluZTtmb250LXNpemU6IDEycHg7d2lkdGg6IDMwcHg7XCIgLz4iOwplbHNlIGlmICggMCA9PSAkcmFuZF9udW1iZXJfc3RyaW5nIHx8IDAgPT0gJGNwdGNocHJfb3B0aW9uc1siY3B0Y2hwcl9kaWZmaWN1bHR5X251bWJlciJdICkgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSBjcHRjaHByX2NvbnZlcnRpbmcoICRudW1iZXJfc3RyaW5nWyAkYXJyYXlfbWF0aF9leHByZXRpb25bMF0gXSApOwplbHNlICRzdHJfbWF0aF9leHByZXRpb24gLj0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzBdOyAkc3RyX21hdGhfZXhwcmV0aW9uIC49ICIgIiAuICRtYXRoX2FjdGlvbnNbICRyYW5kX21hdGhfYWN0aW9uIF07IAogaWYgKCAxID09ICRyYW5kX2lucHV0ICkgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiIDxpbnB1dCBpZD1cImNwdGNocHJfaW5wdXRcIiB0eXBlPVwidGV4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIG5hbWU9XCJjcHRjaHByX251bWJlclwiIHZhbHVlPVwiXCIgbWF4bGVuZ3RoPVwiMlwiIHNpemU9XCIyXCIgYXJpYS1yZXF1aXJlZD1cInRydWVcIiByZXF1aXJlZD1cInJlcXVpcmVkXCIgc3R5bGU9XCJtYXJnaW4tYm90dG9tOjA7ZGlzcGxheTppbmxpbmU7Zm9udC1zaXplOiAxMnB4O3dpZHRoOiAzMHB4O1wiIC8+IjsKZWxzZSBpZiAoIDEgPT0gJHJhbmRfbnVtYmVyX3N0cmluZyB8fCAwID09ICRjcHRjaHByX29wdGlvbnNbImNwdGNocHJfZGlmZmljdWx0eV9udW1iZXIiXSApICRzdHJfbWF0aF9leHByZXRpb24gLj0gIiAiIC4gY3B0Y2hwcl9jb252ZXJ0aW5nKCAkbnVtYmVyX3N0cmluZ1sgJGFycmF5X21hdGhfZXhwcmV0aW9uWzFdIF0gKTsKZWxzZSAkc3RyX21hdGhfZXhwcmV0aW9uIC49ICIgIiAuICRhcnJheV9tYXRoX2V4cHJldGlvblsxXTsgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiID0gIjsgaWYgKCAyID09ICRyYW5kX2lucHV0ICkgewogJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiIDxpbnB1dCBpZD1cImNwdGNocHJfaW5wdXRcIiB0eXBlPVwidGV4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIG5hbWU9XCJjcHRjaHByX251bWJlclwiIHZhbHVlPVwiXCIgbWF4bGVuZ3RoPVwiMlwiIHNpemU9XCIyXCIgYXJpYS1yZXF1aXJlZD1cInRydWVcIiByZXF1aXJlZD1cInJlcXVpcmVkXCIgc3R5bGU9XCJtYXJnaW4tYm90dG9tOjA7ZGlzcGxheTppbmxpbmU7Zm9udC1zaXplOiAxMnB4O3dpZHRoOiAzMHB4O1wiIC8+IjsKfSBlbHNlIGlmICggMiA9PSAkcmFuZF9udW1iZXJfc3RyaW5nIHx8IDAgPT0gJGNwdGNocHJfb3B0aW9uc1siY3B0Y2hwcl9kaWZmaWN1bHR5X251bWJlciJdICkgeyBpZiAoICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSA8IDEwICkKICRzdHJfbWF0aF9leHByZXRpb24gLj0gIiAiIC4gY3B0Y2hwcl9jb252ZXJ0aW5nKCAkbnVtYmVyX3N0cmluZ1sgJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdIF0gKTsgZWxzZSBpZiggJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdIDwgMjAgJiYgJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdID4gMTAgKQogJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiICIgLiBjcHRjaHByX2NvbnZlcnRpbmcoICRudW1iZXJfdHdvX3N0cmluZ1sgJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdICUgMTAgXSApOwplbHNlIHsgaWYgKCBnZXRfYmxvZ2luZm8oICdsYW5ndWFnZScsICdEaXNwbGF5JyApID09ICJubC1OTCIgKSB7ICRzdHJfbWF0aF9leHByZXRpb24gLj0gIiAiIC4gKCAwICE9ICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSAlIDEwID8gJG51bWJlcl9zdHJpbmdbICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSAlIDEwIF0gLiBfXyggImFuZCIsICdjYXB0Y2hhX3BybycgKSA6ICcnICkgLiAkbnVtYmVyX3RocmVlX3N0cmluZ1sgJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdIC8gMTAgXTsKfSBlbHNlIHsgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiICIgLiBjcHRjaHByX2NvbnZlcnRpbmcoICRudW1iZXJfdGhyZWVfc3RyaW5nWyAkYXJyYXlfbWF0aF9leHByZXRpb25bMl0gLyAxMCBdICkgLiAiICIgLiAoIDAgIT0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdICUgMTAgPyBjcHRjaHByX2NvbnZlcnRpbmcoICRudW1iZXJfc3RyaW5nWyAkYXJyYXlfbWF0aF9leHByZXRpb25bMl0gJSAxMCBdICkgOiAnJyApOwp9IH0gfSBlbHNlIHsgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAkYXJyYXlfbWF0aF9leHByZXRpb25bMl07IH0gPz4gPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY3B0Y2hwcl9yZXN1bHQiIHZhbHVlPSI8P3BocCBlY2hvICRzdHIgPSBlbmNvZGUoICRhcnJheV9tYXRoX2V4cHJldGlvblsgJHJhbmRfaW5wdXQgXSwgJHN0cl9rZXksICRjcHRjaHByX3RpbWUgKTsgPz4iIC8+CiA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJjcHRjaHByX3RpbWUiIHZhbHVlPSI8P3BocCBlY2hvICRjcHRjaHByX3RpbWU7ID8+IiAvPiA8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iVmVyc2lvbjogMi40IiAvPgogPD9waHAgZWNobyAkc3RyX21hdGhfZXhwcmV0aW9uOyA/PiA8P3BocCB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdjcHRjaHByX2NvbnZlcnRpbmcnICkgKSB7IGZ1bmN0aW9uIGNwdGNocHJfY29udmVydGluZyggJG51bWJlcl9zdHJpbmcgKSB7CiBnbG9iYWwgJGNwdGNocHJfb3B0aW9uczsgaWYgKCAxID09ICRjcHRjaHByX29wdGlvbnNbImNwdGNocHJfZGlmZmljdWx0eV93b3JkIl0gJiYgZ2V0X2Jsb2dpbmZvKCAnbGFuZ3VhZ2UnICkgPT0gJ2VuLVVTJyApIHsgCiAkaHRtbHNwZWNpYWxjaGFyc19hcnJheSA9IGFycmF5KCk7ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5WydhJ10gPSAnJiM5NzsnOyAkaHRtbHNwZWNpYWxjaGFyc19hcnJheVsnYiddID0gJyYjOTg7JzsKJGh0bWxzcGVjaWFsY2hhcnNfYXJyYXlbJ2MnXSA9ICcmIzk5Oyc7ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5WydkJ10gPSAnJiMxMDA7JzsgJGh0bWxzcGVjaWFsY2hhcnNfYXJyYXlbJ2UnXSA9ICcmIzEwMTsnOwokaHRtbHNwZWNpYWxjaGFyc19hcnJheVsnZiddID0gJyYjMTAyOyc7ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5WydnJ10gPSAnJiMxMDM7JzsgJGh0bWxzcGVjaWFsY2hhcnNfYXJyYXlbJ2gnXSA9ICcmIzEwNDsnOwokaHRtbHNwZWNpYWxjaGFyc19hcnJheVsnaSddID0gJyYjMTA1Oyc7ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5WydqJ10gPSAnJiMxMDY7JzsgJGh0bWxzcGVjaWFsY2hhcnNfYXJyYXlbJ2snXSA9ICcmIzEwNzsnOwokaHRtbHNwZWNpYWxjaGFyc19hcnJheVsnbCddID0gJyYjMTA4Oyc7ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5WydtJ10gPSAnJiMxMDk7JzsgJGh0bWxzcGVjaWFsY2hhcnNfYXJyYXlbJ24nXSA9ICcmIzExMDsnOwokaHRtbHNwZWNpYWxjaGFyc19hcnJheVsnbyddID0gJyYjMTExOyc7ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5WydwJ10gPSAnJiMxMTI7JzsgJGh0bWxzcGVjaWFsY2hhcnNfYXJyYXlbJ3EnXSA9ICcmIzExMzsnOwokaHRtbHNwZWNpYWxjaGFyc19hcnJheVsnciddID0gJyYjMTE0Oyc7ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5WydzJ10gPSAnJiMxMTU7JzsgJGh0bWxzcGVjaWFsY2hhcnNfYXJyYXlbJ3QnXSA9ICcmIzExNjsnOwokaHRtbHNwZWNpYWxjaGFyc19hcnJheVsndSddID0gJyYjMTE3Oyc7ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5Wyd2J10gPSAnJiMxMTg7JzsgJGh0bWxzcGVjaWFsY2hhcnNfYXJyYXlbJ3cnXSA9ICcmIzExOTsnOwokaHRtbHNwZWNpYWxjaGFyc19hcnJheVsneCddID0gJyYjMTIwOyc7ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5Wyd5J10gPSAnJiMxMjE7JzsgJGh0bWxzcGVjaWFsY2hhcnNfYXJyYXlbJ3onXSA9ICcmIzEyMjsnOwokc2ltYm9sc19sZW5naHQgPSBzdHJsZW4oICRudW1iZXJfc3RyaW5nICk7ICRzaW1ib2xzX2xlbmdodC0tOyAkbnVtYmVyX3N0cmluZ19uZXcgPSBzdHJfc3BsaXQoICRudW1iZXJfc3RyaW5nICk7CiRjb252ZXJ0aW5nX2xldHRlcnMgPSByYW5kKCAxLCAkc2ltYm9sc19sZW5naHQgKTsgd2hpbGUgKCAkY29udmVydGluZ19sZXR0ZXJzICE9IDAgKSB7ICRwb3NpdGlvbiA9IHJhbmQoIDAsICRzaW1ib2xzX2xlbmdodCApOwokbnVtYmVyX3N0cmluZ19uZXdbICRwb3NpdGlvbiBdID0gaXNzZXQoICRodG1sc3BlY2lhbGNoYXJzX2FycmF5WyAkbnVtYmVyX3N0cmluZ19uZXdbICRwb3NpdGlvbiBdIF0gKSA/ICRodG1sc3BlY2lhbGNoYXJzX2FycmF5WyAkbnVtYmVyX3N0cmluZ19uZXdbICRwb3NpdGlvbiBdIF0gOiAkbnVtYmVyX3N0cmluZ19uZXdbICRwb3NpdGlvbiBdOwokY29udmVydGluZ19sZXR0ZXJzLS07IH0gJG51bWJlcl9zdHJpbmcgPSAnJzsgZm9yZWFjaCAoICRudW1iZXJfc3RyaW5nX25ldyBhcyAka2V5ID0+ICR2YWx1ZSApIHsgJG51bWJlcl9zdHJpbmcgLj0gJHZhbHVlOwp9IHJldHVybiAkbnVtYmVyX3N0cmluZzsgfSBlbHNlIHJldHVybiAkbnVtYmVyX3N0cmluZzsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnZW5jb2RlJyApICkgewogZnVuY3Rpb24gZW5jb2RlKCAkU3RyaW5nLCAkUGFzc3dvcmQsICRjcHRjaHByX3RpbWUgKSB7IGlmICggISAkUGFzc3dvcmQgKSBkaWUgKCBfXyggIkVuY3J5cHRpb24gcGFzc3dvcmQgaXMgbm90IHNldCIsICdjYXB0Y2hhX3BybycgKSApOwokU2FsdCA9IG1kNSggJGNwdGNocHJfdGltZSwgdHJ1ZSApOyAkU3RyaW5nID0gc3Vic3RyKCBwYWNrKCAiSCoiLCBzaGExKCAkU3RyaW5nICkgKSwgMCwgMSApLiRTdHJpbmc7CiRTdHJMZW4gPSBzdHJsZW4oICRTdHJpbmcgKTsgJFNlcSA9ICRQYXNzd29yZDsgJEdhbW1hID0gJyc7IHdoaWxlICggc3RybGVuKCAkR2FtbWEgKSA8ICRTdHJMZW4gKSB7ICRTZXEgPSBwYWNrKCAiSCoiLCBzaGExKCAkU2VxIC4gJEdhbW1hIC4gJFNhbHQgKSApOwokR2FtbWEuPXN1YnN0ciggJFNlcSwgMCwgOCApOyB9IHJldHVybiBiYXNlNjRfZW5jb2RlKCAkU3RyaW5nIF4gJEdhbW1hICk7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2RlY29kZScgKSApIHsKIGZ1bmN0aW9uIGRlY29kZSggJFN0cmluZywgJEtleSwgJGNwdGNocHJfdGltZSApIHsgaWYgKCAhICRLZXkgKSBkaWUgKCBfXyggIkRlY3J5cHRpb24gcGFzc3dvcmQgaXMgbm90IHNldCIsICdjYXB0Y2hhX3BybycgKSApOwokU2FsdCA9IG1kNSggJGNwdGNocHJfdGltZSwgdHJ1ZSApOyAkU3RyTGVuID0gc3RybGVuKCAkU3RyaW5nICk7ICRTZXEgPSAkS2V5OyAkR2FtbWEgPSAnJzsgd2hpbGUgKCBzdHJsZW4oICRHYW1tYSApIDwgJFN0ckxlbiApIHsKICRTZXEgPSBwYWNrKCAiSCoiLCBzaGExKCAkU2VxIC4gJEdhbW1hIC4gJFNhbHQgKSApOyAkR2FtbWEuPSBzdWJzdHIoICRTZXEsIDAsIDggKTsgfSAkU3RyaW5nID0gYmFzZTY0X2RlY29kZSggJFN0cmluZyApOwokU3RyaW5nID0gJFN0cmluZ14kR2FtbWE7ICREZWNvZGVkU3RyaW5nID0gc3Vic3RyKCAkU3RyaW5nLCAxICk7ICRFcnJvciA9IG9yZCggc3Vic3RyKCAkU3RyaW5nLCAwLCAxICkgXiBzdWJzdHIoIHBhY2soICJIKiIsIHNoYTEoICREZWNvZGVkU3RyaW5nICkgKSwgMCwgMSApKTsgCiBpZiAoICRFcnJvciApIHJldHVybiBmYWxzZTsgZWxzZSByZXR1cm4gJERlY29kZWRTdHJpbmc7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfY3VzdG9tX2Zvcm0nICkgKSB7CiBmdW5jdGlvbiBjcHRjaHByX2N1c3RvbV9mb3JtKCAkZXJyb3JfbWVzc2FnZSApIHsgJGNwdGNocHJfb3B0aW9ucyA9IGdldF9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnICk7CiRjb250ZW50ID0gIiI7ICRjb250ZW50IC49ICc8cCBjbGFzcz0iY3B0Y2hwcl9ibG9jayIgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPic7IGlmKCAiIiAhPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2xhYmVsX2Zvcm0nXSApIAogJGNvbnRlbnQgLj0gJzxsYWJlbD4nLiBzdHJpcHNsYXNoZXMoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfbGFiZWxfZm9ybSddICkgLic8c3BhbiBjbGFzcz0icmVxdWlyZWQiPiAnIC4gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9yZXF1aXJlZF9zeW1ib2wnXSAuICc8L3NwYW4+PC9sYWJlbD48YnIgLz4nOwplbHNlICRjb250ZW50IC49ICc8YnIgLz4nOyBpZiggaXNzZXQoICRlcnJvcl9tZXNzYWdlWydlcnJvcl9jYXB0Y2hhJ10gKSApIHsgJGNvbnRlbnQgLj0gIjxzcGFuIGNsYXNzPSdjcHRjaHByX2Vycm9yJyBzdHlsZT0nY29sb3I6cmVkJz4iLiAkZXJyb3JfbWVzc2FnZVsnZXJyb3JfY2FwdGNoYSddIC4iPC9zcGFuPjxiciAvPiI7Cn0gJGNvbnRlbnQgLj0gY3B0Y2hwcl9kaXNwbGF5X2NhcHRjaGFfY3VzdG9tKCk7ICRjb250ZW50IC49ICc8L3A+JzsgcmV0dXJuICRjb250ZW50IDsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9jaGVja19jdXN0b21fZm9ybScgKSApIHsKIGZ1bmN0aW9uIGNwdGNocHJfY2hlY2tfY3VzdG9tX2Zvcm0oKSB7IGdsb2JhbCAkY3B0Y2hwcl9vcHRpb25zOyAkc3RyX2tleSA9ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfc3RyX2tleSddWydrZXknXTsKaWYgKCBpc3NldCggJF9SRVFVRVNUWydjbnRjdGZybV9jb250YWN0X2FjdGlvbiddICkgfHwgaXNzZXQoICRfUkVRVUVTVFsnY250Y3Rmcm1wcl9jb250YWN0X2FjdGlvbiddICkgKSB7IAogaWYgKCBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgIiIgPT0gJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgeyByZXR1cm4gZmFsc2U7IH0gCiBpZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfcmVzdWx0J10gKSAmJiBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKQogJiYgMCA9PSBzdHJjYXNlY21wKCB0cmltKCBkZWNvZGUoICRfUkVRVUVTVFsnY3B0Y2hwcl9yZXN1bHQnXSwgJHN0cl9rZXksICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKSApLCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSApIHsKIHJldHVybiB0cnVlOyB9IGVsc2UgeyByZXR1cm4gZmFsc2U7IH0gfSBlbHNlIHJldHVybiBmYWxzZTsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9kaXNwbGF5X2NhcHRjaGFfY3VzdG9tJyApICkgewogZnVuY3Rpb24gY3B0Y2hwcl9kaXNwbGF5X2NhcHRjaGFfY3VzdG9tKCAkY2xhc3NfbmFtZSA9ICIiLCAkY3B0Y2hwcl9pbnB1dF9uYW1lID0gJ2NwdGNocHJfbnVtYmVyJyApIHsKIGdsb2JhbCAkY3B0Y2hwcl9vcHRpb25zLCAkY3B0Y2hwcl90aW1lOyAkY29udGVudCA9ICIiOyBpZiAoICEgaXNzZXQoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfc3RyX2tleSddICkgKQogJGNwdGNocHJfb3B0aW9ucyA9IGdldF9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnICk7IGlmICggJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9zdHJfa2V5J11bJ2tleSddID09ICcnIHx8ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfc3RyX2tleSddWyd0aW1lJ10gPCB0aW1lKCkgLSAoIDI0ICogNjAgKiA2MCApICkKIGNwdGNocHJfZ2VuZXJhdGVfa2V5KCk7ICRzdHJfa2V5ID0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9zdHJfa2V5J11bJ2tleSddOyAkbnVtYmVyX3N0cmluZyA9IGFycmF5KCk7IAogJG51bWJlcl9zdHJpbmdbMF0gPSBfXyggJ3plcm8nLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfc3RyaW5nWzFdID0gX18oICdvbmUnLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfc3RyaW5nWzJdID0gX18oICd0d28nLCAnY2FwdGNoYV9wcm8nICk7CiRudW1iZXJfc3RyaW5nWzNdID0gX18oICd0aHJlZScsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl9zdHJpbmdbNF0gPSBfXyggJ2ZvdXInLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfc3RyaW5nWzVdID0gX18oICdmaXZlJywgJ2NhcHRjaGFfcHJvJyApOwokbnVtYmVyX3N0cmluZ1s2XSA9IF9fKCAnc2l4JywgJ2NhcHRjaGFfcHJvJyApOyAkbnVtYmVyX3N0cmluZ1s3XSA9IF9fKCAnc2V2ZW4nLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfc3RyaW5nWzhdID0gX18oICdlaWdodCcsICdjYXB0Y2hhX3BybycgKTsKJG51bWJlcl9zdHJpbmdbOV0gPSBfXyggJ25pbmUnLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfdHdvX3N0cmluZyA9IGFycmF5KCk7ICRudW1iZXJfdHdvX3N0cmluZ1sxXSA9IF9fKCAnZWxldmVuJywgJ2NhcHRjaGFfcHJvJyApOwokbnVtYmVyX3R3b19zdHJpbmdbMl0gPSBfXyggJ3R3ZWx2ZScsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl90d29fc3RyaW5nWzNdID0gX18oICd0aGlydGVlbicsICdjYXB0Y2hhX3BybycgKTsKJG51bWJlcl90d29fc3RyaW5nWzRdID0gX18oICdmb3VydGVlbicsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl90d29fc3RyaW5nWzVdID0gX18oICdmaWZ0ZWVuJywgJ2NhcHRjaGFfcHJvJyApOwokbnVtYmVyX3R3b19zdHJpbmdbNl0gPSBfXyggJ3NpeHRlZW4nLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfdHdvX3N0cmluZ1s3XSA9IF9fKCAnc2V2ZW50ZWVuJywgJ2NhcHRjaGFfcHJvJyApOwokbnVtYmVyX3R3b19zdHJpbmdbOF0gPSBfXyggJ2VpZ2h0ZWVuJywgJ2NhcHRjaGFfcHJvJyApOyAkbnVtYmVyX3R3b19zdHJpbmdbOV0gPSBfXyggJ25pbmV0ZWVuJywgJ2NhcHRjaGFfcHJvJyApOyAKICRudW1iZXJfdGhyZWVfc3RyaW5nID0gYXJyYXkoKTsgJG51bWJlcl90aHJlZV9zdHJpbmdbMV0gPSBfXyggJ3RlbicsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl90aHJlZV9zdHJpbmdbMl0gPSBfXyggJ3R3ZW50eScsICdjYXB0Y2hhX3BybycgKTsKJG51bWJlcl90aHJlZV9zdHJpbmdbM10gPSBfXyggJ3RoaXJ0eScsICdjYXB0Y2hhX3BybycgKTsgJG51bWJlcl90aHJlZV9zdHJpbmdbNF0gPSBfXyggJ2ZvcnR5JywgJ2NhcHRjaGFfcHJvJyApOwokbnVtYmVyX3RocmVlX3N0cmluZ1s1XSA9IF9fKCAnZmlmdHknLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfdGhyZWVfc3RyaW5nWzZdID0gX18oICdzaXh0eScsICdjYXB0Y2hhX3BybycgKTsKJG51bWJlcl90aHJlZV9zdHJpbmdbN10gPSBfXyggJ3NldmVudHknLCAnY2FwdGNoYV9wcm8nICk7ICRudW1iZXJfdGhyZWVfc3RyaW5nWzhdID0gX18oICdlaWdodHknLCAnY2FwdGNoYV9wcm8nICk7CiRudW1iZXJfdGhyZWVfc3RyaW5nWzldID0gX18oICduaW5ldHknLCAnY2FwdGNoYV9wcm8nICk7ICRtYXRoX2FjdGlvbnMgPSBhcnJheSgpOyBpZiggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX21hdGhfYWN0aW9uX3BsdXMnXSApCiAkbWF0aF9hY3Rpb25zW10gPSAnJiM0MzsnOyBpZiggMSA9PSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX21hdGhfYWN0aW9uX21pbnVzJ10gKSAkbWF0aF9hY3Rpb25zW10gPSAnJm1pbnVzOyc7IAogaWYoIDEgPT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9tYXRoX2FjdGlvbl9pbmNyZWFzZSddICkgJG1hdGhfYWN0aW9uc1tdID0gJyZ0aW1lczsnOyAkcmFuZF9pbnB1dCA9IHJhbmQoIDAsIDIgKTsgCiAkcmFuZF9udW1iZXJfc3RyaW5nID0gcmFuZCggMCwgMiApOyBpZiggMCA9PSAkY3B0Y2hwcl9vcHRpb25zWyJjcHRjaHByX2RpZmZpY3VsdHlfd29yZCJdKSAkcmFuZF9udW1iZXJfc3RyaW5nID0gLTE7IAogd2hpbGUoJHJhbmRfaW5wdXQgPT0gJHJhbmRfbnVtYmVyX3N0cmluZykgeyAkcmFuZF9udW1iZXJfc3RyaW5nID0gcmFuZCggMCwgMiApOyB9ICRyYW5kX21hdGhfYWN0aW9uID0gcmFuZCggMCwgY291bnQoJG1hdGhfYWN0aW9ucykgLSAxICk7CiRhcnJheV9tYXRoX2V4cHJldGlvbiA9IGFycmF5KCk7ICRhcnJheV9tYXRoX2V4cHJldGlvblswXSA9IHJhbmQoIDEsIDkgKTsgJGFycmF5X21hdGhfZXhwcmV0aW9uWzFdID0gcmFuZCggMSwgOSApOyAKIHN3aXRjaCggJG1hdGhfYWN0aW9uc1skcmFuZF9tYXRoX2FjdGlvbl0gKSB7IGNhc2UgIiYjNDM7IjogJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdID0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzBdICsgJGFycmF5X21hdGhfZXhwcmV0aW9uWzFdOwpicmVhazsgY2FzZSAiJm1pbnVzOyI6IGlmICggJGFycmF5X21hdGhfZXhwcmV0aW9uWzBdIDwgJGFycmF5X21hdGhfZXhwcmV0aW9uWzFdICkgeyAkbnVtYmVyID0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzBdOwokYXJyYXlfbWF0aF9leHByZXRpb25bMF0gPSAkYXJyYXlfbWF0aF9leHByZXRpb25bMV07ICRhcnJheV9tYXRoX2V4cHJldGlvblsxXSA9ICRudW1iZXI7IH0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdID0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzBdIC0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzFdOwpicmVhazsgY2FzZSAiJnRpbWVzOyI6ICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSA9ICRhcnJheV9tYXRoX2V4cHJldGlvblswXSAqICRhcnJheV9tYXRoX2V4cHJldGlvblsxXTsKYnJlYWs7IH0gJHN0cl9tYXRoX2V4cHJldGlvbiA9ICIiOyBpZiggMCA9PSAkcmFuZF9pbnB1dCApIHsgaWYgKCAkY2xhc3NfbmFtZSAhPSAnJyApICRzdHJfbWF0aF9leHByZXRpb24gLj0gIjxpbnB1dCBjbGFzcz1cIiIgLiAkY2xhc3NfbmFtZSAuICJcIiB0eXBlPVwidGV4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIG5hbWU9XCIiIC4gJGNwdGNocHJfaW5wdXRfbmFtZSAuICJcIiB2YWx1ZT1cIlwiIG1heGxlbmd0aD1cIjFcIiBzaXplPVwiMVwiIGFyaWEtcmVxdWlyZWQ9XCJ0cnVlXCIgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiIHN0eWxlPVwibWFyZ2luLWJvdHRvbTowO2Rpc3BsYXk6aW5saW5lO2ZvbnQtc2l6ZTogMTJweDt3aWR0aDogMzBweDtcIiAvPiI7CmVsc2UgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiPGlucHV0IHR5cGU9XCJ0ZXh0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgbmFtZT1cIiIgLiAkY3B0Y2hwcl9pbnB1dF9uYW1lIC4gIlwiIHZhbHVlPVwiXCIgbWF4bGVuZ3RoPVwiMVwiIHNpemU9XCIxXCIgYXJpYS1yZXF1aXJlZD1cInRydWVcIiByZXF1aXJlZD1cInJlcXVpcmVkXCIgc3R5bGU9XCJtYXJnaW4tYm90dG9tOjA7ZGlzcGxheTppbmxpbmU7Zm9udC1zaXplOiAxMnB4O3dpZHRoOiAzMHB4O1wiIC8+IjsKfSBlbHNlIGlmICggMCA9PSAkcmFuZF9udW1iZXJfc3RyaW5nIHx8IDAgPT0gJGNwdGNocHJfb3B0aW9uc1siY3B0Y2hwcl9kaWZmaWN1bHR5X251bWJlciJdICkgeyAkc3RyX21hdGhfZXhwcmV0aW9uIC49IGNwdGNocHJfY29udmVydGluZyggJG51bWJlcl9zdHJpbmdbICRhcnJheV9tYXRoX2V4cHJldGlvblswXSBdICk7Cn0gZWxzZSB7ICRzdHJfbWF0aF9leHByZXRpb24gLj0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzBdOyB9ICRzdHJfbWF0aF9leHByZXRpb24gLj0gIiAiIC4gJG1hdGhfYWN0aW9uc1sgJHJhbmRfbWF0aF9hY3Rpb24gXTsgCiBpZiAoIDEgPT0gJHJhbmRfaW5wdXQgKSB7IGlmICggJGNsYXNzX25hbWUgIT0gJycgKSAkc3RyX21hdGhfZXhwcmV0aW9uIC49ICIgPGlucHV0IGNsYXNzPVwiIiAuICRjbGFzc19uYW1lIC4gIlwiIHR5cGU9XCJ0ZXh0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgbmFtZT1cIiIgLiAkY3B0Y2hwcl9pbnB1dF9uYW1lIC4gIlwiIHZhbHVlPVwiXCIgbWF4bGVuZ3RoPVwiMVwiIHNpemU9XCIxXCIgYXJpYS1yZXF1aXJlZD1cInRydWVcIiByZXF1aXJlZD1cInJlcXVpcmVkXCIgc3R5bGU9XCJtYXJnaW4tYm90dG9tOjA7ZGlzcGxheTppbmxpbmU7Zm9udC1zaXplOiAxMnB4O3dpZHRoOiAzMHB4O1wiIC8+IjsKZWxzZSAkc3RyX21hdGhfZXhwcmV0aW9uIC49ICIgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgbmFtZT1cIiIgLiAkY3B0Y2hwcl9pbnB1dF9uYW1lIC4gIlwiIHZhbHVlPVwiXCIgbWF4bGVuZ3RoPVwiMVwiIHNpemU9XCIxXCIgYXJpYS1yZXF1aXJlZD1cInRydWVcIiByZXF1aXJlZD1cInJlcXVpcmVkXCIgc3R5bGU9XCJtYXJnaW4tYm90dG9tOjA7ZGlzcGxheTppbmxpbmU7Zm9udC1zaXplOiAxMnB4O3dpZHRoOiAzMHB4O1wiIC8+IjsKfSBlbHNlIGlmICggMSA9PSAkcmFuZF9udW1iZXJfc3RyaW5nIHx8IDAgPT0gJGNwdGNocHJfb3B0aW9uc1siY3B0Y2hwcl9kaWZmaWN1bHR5X251bWJlciJdICkgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiICIgLiBjcHRjaHByX2NvbnZlcnRpbmcoICRudW1iZXJfc3RyaW5nWyAkYXJyYXlfbWF0aF9leHByZXRpb25bMV0gXSApOwplbHNlICRzdHJfbWF0aF9leHByZXRpb24gLj0gIiAiIC4gJGFycmF5X21hdGhfZXhwcmV0aW9uWzFdOyAkc3RyX21hdGhfZXhwcmV0aW9uIC49ICIgPSAiOyBpZiAoIDIgPT0gJHJhbmRfaW5wdXQgKSB7CiBpZiAoICRjbGFzc19uYW1lICE9ICcnICkgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiIDxpbnB1dCBjbGFzcz1cIiIgLiAkY2xhc3NfbmFtZSAuICJcIiB0eXBlPVwidGV4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIG5hbWU9XCIiIC4gJGNwdGNocHJfaW5wdXRfbmFtZSAuICJcIiB2YWx1ZT1cIlwiIG1heGxlbmd0aD1cIjJcIiBzaXplPVwiMVwiIGFyaWEtcmVxdWlyZWQ9XCJ0cnVlXCIgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiIHN0eWxlPVwibWFyZ2luLWJvdHRvbTowO2Rpc3BsYXk6aW5saW5lO2ZvbnQtc2l6ZTogMTJweDt3aWR0aDogMzBweDtcIiAvPiI7CmVsc2UgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiIDxpbnB1dCB0eXBlPVwidGV4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIG5hbWU9XCIiIC4gJGNwdGNocHJfaW5wdXRfbmFtZSAuICJcIiB2YWx1ZT1cIlwiIG1heGxlbmd0aD1cIjJcIiBzaXplPVwiMVwiIGFyaWEtcmVxdWlyZWQ9XCJ0cnVlXCIgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiIHN0eWxlPVwibWFyZ2luLWJvdHRvbTowO2Rpc3BsYXk6aW5saW5lO2ZvbnQtc2l6ZTogMTJweDt3aWR0aDogMzBweDtcIiAvPiI7Cn0gZWxzZSBpZiAoIDIgPT0gJHJhbmRfbnVtYmVyX3N0cmluZyB8fCAwID09ICRjcHRjaHByX29wdGlvbnNbImNwdGNocHJfZGlmZmljdWx0eV9udW1iZXIiXSApIHsgaWYgKCAkYXJyYXlfbWF0aF9leHByZXRpb25bMl0gPCAxMCApCiAkc3RyX21hdGhfZXhwcmV0aW9uIC49ICIgIiAuIGNwdGNocHJfY29udmVydGluZyggJG51bWJlcl9zdHJpbmdbICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSBdICk7IGVsc2UgaWYgKCAkYXJyYXlfbWF0aF9leHByZXRpb25bMl0gPCAyMCAmJiAkYXJyYXlfbWF0aF9leHByZXRpb25bMl0gPiAxMCApCiAkc3RyX21hdGhfZXhwcmV0aW9uIC49ICIgIi4gY3B0Y2hwcl9jb252ZXJ0aW5nKCAkbnVtYmVyX3R3b19zdHJpbmdbICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSAlIDEwIF0gKTsKZWxzZSB7IGlmICggZ2V0X2Jsb2dpbmZvKCAnbGFuZ3VhZ2UnLCdEaXNwbGF5JyApID09ICJubC1OTCIgKSB7ICRzdHJfbWF0aF9leHByZXRpb24gLj0gIiAiIC4gKCAwICE9ICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSAlIDEwID8gJG51bWJlcl9zdHJpbmdbICRhcnJheV9tYXRoX2V4cHJldGlvblsyXSAlIDEwIF0gLiBfXyggImFuZCIsICdjYXB0Y2hhX3BybycgKSA6ICcnICkgLiAkbnVtYmVyX3RocmVlX3N0cmluZ1sgJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdIC8gMTAgXTsKfSBlbHNlIHsgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAiICIgLiBjcHRjaHByX2NvbnZlcnRpbmcoICRudW1iZXJfdGhyZWVfc3RyaW5nWyAkYXJyYXlfbWF0aF9leHByZXRpb25bMl0gLyAxMCBdICkgLiAiICIgLiAoIDAgIT0gJGFycmF5X21hdGhfZXhwcmV0aW9uWzJdICUgMTAgPyBjcHRjaHByX2NvbnZlcnRpbmcoICRudW1iZXJfc3RyaW5nWyAkYXJyYXlfbWF0aF9leHByZXRpb25bMl0gJSAxMCBdICkgOiAnJyApOwp9IH0gfSBlbHNlIHsgJHN0cl9tYXRoX2V4cHJldGlvbiAuPSAkYXJyYXlfbWF0aF9leHByZXRpb25bMl07IH0gaWYgKCAkY3B0Y2hwcl9pbnB1dF9uYW1lID09ICdjcHRjaHByX251bWJlcicgKSB7CiAkY29udGVudCAuPSAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY3B0Y2hwcl9yZXN1bHQiIHZhbHVlPSInLiRzdHIgPSBlbmNvZGUoICRhcnJheV9tYXRoX2V4cHJldGlvblsgJHJhbmRfaW5wdXQgXSwgJHN0cl9rZXksICRjcHRjaHByX3RpbWUgKS4nIiAvPgogPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY3B0Y2hwcl90aW1lIiB2YWx1ZT0iJy4kY3B0Y2hwcl90aW1lLiciIC8+IDxpbnB1dCB0eXBlPSJoaWRkZW4iIHZhbHVlPSJWZXJzaW9uOiAyLjQiIC8+JzsKfSBlbHNlIHsgJGNvbnRlbnQgLj0gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IicgLiAkY3B0Y2hwcl9pbnB1dF9uYW1lIC4gJy1jcHRjaHByX3Jlc3VsdCIgdmFsdWU9IicgLiAkc3RyID0gZW5jb2RlKCAkYXJyYXlfbWF0aF9leHByZXRpb25bICRyYW5kX2lucHV0IF0sICRzdHJfa2V5LCAkY3B0Y2hwcl90aW1lICkgLiAnIiAvPgogPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJyAuICRjcHRjaHByX2lucHV0X25hbWUgLiAnLWNwdGNocHJfdGltZSIgdmFsdWU9IicgLiAkY3B0Y2hwcl90aW1lIC4gJyIgLz4KIDxpbnB1dCB0eXBlPSJoaWRkZW4iIHZhbHVlPSJWZXJzaW9uOiAyLjQiIC8+JzsgfSAkY29udGVudCAuPSAkc3RyX21hdGhfZXhwcmV0aW9uOyByZXR1cm4gJGNvbnRlbnQ7Cn0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfY29udGFjdF9mb3JtX29wdGlvbnMnICkgKSB7IGZ1bmN0aW9uIGNwdGNocHJfY29udGFjdF9mb3JtX29wdGlvbnMoKSB7CiBpZiAoIGZ1bmN0aW9uX2V4aXN0cyggJ2dldF9wbHVnaW5zJyApICkgeyAkYWxsX3BsdWdpbnMgPSBnZXRfcGx1Z2lucygpOyBpZiAoIGFycmF5X2tleV9leGlzdHMoICdjb250YWN0LWZvcm0tcGx1Z2luL2NvbnRhY3RfZm9ybS5waHAnLCAkYWxsX3BsdWdpbnMgKSApIHsKICRjcHRjaHByX29wdGlvbnMgPSBnZXRfb3B0aW9uKCAnY3B0Y2hwcl9vcHRpb25zJyApOyBpZiAoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfY29udGFjdF9mb3JtJ10gPT0gMSkgewogYWRkX2ZpbHRlcignY250Y3Rmcm1fZGlzcGxheV9jYXB0Y2hhJywgJ2NwdGNocHJfY3VzdG9tX2Zvcm0nKTsgYWRkX2ZpbHRlcignY250Y3Rmcm1fY2hlY2tfZm9ybScsICdjcHRjaHByX2NoZWNrX2N1c3RvbV9mb3JtJyk7Cn0gZWxzZWlmICggJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9jb250YWN0X2Zvcm0nXSA9PSAwICkgeyByZW1vdmVfZmlsdGVyKCdjbnRjdGZybV9kaXNwbGF5X2NhcHRjaGEnLCAnY3B0Y2hwcl9jdXN0b21fZm9ybScpOwpyZW1vdmVfZmlsdGVyKCdjbnRjdGZybV9jaGVja19mb3JtJywgJ2NwdGNocHJfY2hlY2tfY3VzdG9tX2Zvcm0nKTsgfSB9IGVsc2VpZiAoIGFycmF5X2tleV9leGlzdHMoICdjb250YWN0LWZvcm0tcHJvL2NvbnRhY3RfZm9ybV9wcm8ucGhwJywgJGFsbF9wbHVnaW5zICkgKSB7CiAkY3B0Y2hwcl9vcHRpb25zID0gZ2V0X29wdGlvbiggJ2NwdGNocHJfb3B0aW9ucycgKTsgaWYgKCAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2NvbnRhY3RfZm9ybSddID09IDEpIHsKIGFkZF9maWx0ZXIoJ2NudGN0ZnJtcHJfZGlzcGxheV9jYXB0Y2hhJywgJ2NwdGNocHJfY3VzdG9tX2Zvcm0nKTsgYWRkX2ZpbHRlcignY250Y3Rmcm1wcl9jaGVja19mb3JtJywgJ2NwdGNocHJfY2hlY2tfY3VzdG9tX2Zvcm0nKTsKfSBlbHNlaWYgKCAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2NvbnRhY3RfZm9ybSddID09IDAgKSB7IHJlbW92ZV9maWx0ZXIoJ2NudGN0ZnJtcHJfZGlzcGxheV9jYXB0Y2hhJywgJ2NwdGNocHJfY3VzdG9tX2Zvcm0nKTsKcmVtb3ZlX2ZpbHRlcignY250Y3Rmcm1wcl9jaGVja19mb3JtJywgJ2NwdGNocHJfY2hlY2tfY3VzdG9tX2Zvcm0nKTsgfSB9IH0gZWxzZSB7IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdpc19wbHVnaW5fYWN0aXZlX2Zvcl9uZXR3b3JrJyApICkKIHJlcXVpcmVfb25jZSggQUJTUEFUSCAuICcvd3AtYWRtaW4vaW5jbHVkZXMvcGx1Z2luLnBocCcgKTsgJGFjdGl2ZV9wbHVnaW5zID0gZ2V0X29wdGlvbiggJ2FjdGl2ZV9wbHVnaW5zJyApOwppZiAoIDAgPCBjb3VudCggcHJlZ19ncmVwKCAnL2NvbnRhY3QtZm9ybS1wbHVnaW5cL2NvbnRhY3RfZm9ybS5waHAvJywgJGFjdGl2ZV9wbHVnaW5zICkgKSB8fCBpc19wbHVnaW5fYWN0aXZlX2Zvcl9uZXR3b3JrKCAnY29udGFjdC1mb3JtLXBsdWdpbi9jb250YWN0X2Zvcm0ucGhwJyApICkgeyAKICRjcHRjaHByX29wdGlvbnMgPSBnZXRfb3B0aW9uKCAnY3B0Y2hwcl9vcHRpb25zJyApOyBpZiggJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9jb250YWN0X2Zvcm0nXSA9PSAxKSB7CiBhZGRfZmlsdGVyKCdjbnRjdGZybV9kaXNwbGF5X2NhcHRjaGEnLCAnY3B0Y2hwcl9jdXN0b21fZm9ybScpOyBhZGRfZmlsdGVyKCdjbnRjdGZybV9jaGVja19mb3JtJywgJ2NwdGNocHJfY2hlY2tfY3VzdG9tX2Zvcm0nKTsKfSBlbHNlIGlmKCAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2NvbnRhY3RfZm9ybSddID09IDAgKSB7IHJlbW92ZV9maWx0ZXIoJ2NudGN0ZnJtX2Rpc3BsYXlfY2FwdGNoYScsICdjcHRjaHByX2N1c3RvbV9mb3JtJyk7CnJlbW92ZV9maWx0ZXIoJ2NudGN0ZnJtX2NoZWNrX2Zvcm0nLCAnY3B0Y2hwcl9jaGVja19jdXN0b21fZm9ybScpOyB9IH0gZWxzZWlmICggMCA8IGNvdW50KCBwcmVnX2dyZXAoICcvY29udGFjdC1mb3JtLXByb1wvY29udGFjdF9mb3JtX3Byby5waHAvJywgJGFjdGl2ZV9wbHVnaW5zICkgKSB8fCBpc19wbHVnaW5fYWN0aXZlX2Zvcl9uZXR3b3JrKCAnY29udGFjdC1mb3JtLXByby9jb250YWN0X2Zvcm1fcHJvLnBocCcgKSApIHsgCiAkY3B0Y2hwcl9vcHRpb25zID0gZ2V0X29wdGlvbiggJ2NwdGNocHJfb3B0aW9ucycgKTsgaWYoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfY29udGFjdF9mb3JtJ10gPT0gMSkgewogYWRkX2ZpbHRlcignY250Y3Rmcm1wcl9kaXNwbGF5X2NhcHRjaGEnLCAnY3B0Y2hwcl9jdXN0b21fZm9ybScpOyBhZGRfZmlsdGVyKCdjbnRjdGZybXByX2NoZWNrX2Zvcm0nLCAnY3B0Y2hwcl9jaGVja19jdXN0b21fZm9ybScpOwp9IGVsc2UgaWYoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfY29udGFjdF9mb3JtJ10gPT0gMCApIHsgcmVtb3ZlX2ZpbHRlcignY250Y3Rmcm1wcl9kaXNwbGF5X2NhcHRjaGEnLCAnY3B0Y2hwcl9jdXN0b21fZm9ybScpOwpyZW1vdmVfZmlsdGVyKCdjbnRjdGZybXByX2NoZWNrX2Zvcm0nLCAnY3B0Y2hwcl9jaGVja19jdXN0b21fZm9ybScpOyB9IH0gfSB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdjcHRjaHByX2J1ZGR5cHJlc3NfcmVnaXN0cmF0aW9uJyApICkgewogZnVuY3Rpb24gY3B0Y2hwcl9idWRkeXByZXNzX3JlZ2lzdHJhdGlvbigpIHsgZ2xvYmFsICRicCwgJGNwdGNocHJfb3B0aW9uczsgZWNobyAnPGRpdiBpZD0icHJvZmlsZS1kZXRhaWxzLXNlY3Rpb24iIGNsYXNzPSJyZWdpc3Rlci1zZWN0aW9uIGNwdGNocHItc2VjdGlvbiI+CiA8ZGl2IGNsYXNzPSJlZGl0ZmllbGQiPic7IGlmICggIiIgIT0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9sYWJlbF9mb3JtJ10gKSBlY2hvICc8bGFiZWw+Jy4gc3RyaXBzbGFzaGVzKCAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2xhYmVsX2Zvcm0nXSApIC4nPHNwYW4gY2xhc3M9InJlcXVpcmVkIj4gJyAuICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfcmVxdWlyZWRfc3ltYm9sJ10gLiAnPC9zcGFuPjwvbGFiZWw+JzsKZWxzZSBlY2hvICc8YnIgLz4nOyBpZiAoICFlbXB0eSggJGJwLT5zaWdudXAtPmVycm9yc1snY3B0Y2hwcl9idWRkeXByZXNzX3JlZ2lzdHJhdGlvbiddICkgKSB7IGVjaG8gJzxkaXYgY2xhc3M9ImVycm9yIj4nIC4gJGJwLT5zaWdudXAtPmVycm9yc1snY3B0Y2hwcl9idWRkeXByZXNzX3JlZ2lzdHJhdGlvbiddIC4gJzwvZGl2Pic7Cn0gZWNobyBjcHRjaHByX2Rpc3BsYXlfY2FwdGNoYV9jdXN0b20oKTsgZWNobyAnPC9kaXY+IDwvZGl2Pic7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfYnVkZHlwcmVzc19yZWdpc3RyYXRpb25fdmFsaWRhdGUnICkgKSB7CiBmdW5jdGlvbiBjcHRjaHByX2J1ZGR5cHJlc3NfcmVnaXN0cmF0aW9uX3ZhbGlkYXRlKCAkZXJyb3JzICkgeyBnbG9iYWwgJGJwLCAkY3B0Y2hwcl9vcHRpb25zOyAkc3RyX2tleSA9ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfc3RyX2tleSddWydrZXknXTsgCiBpZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSAmJiAiIiA9PSAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSB7ICRicC0+c2lnbnVwLT5lcnJvcnNbJ2NwdGNocHJfYnVkZHlwcmVzc19yZWdpc3RyYXRpb24nXSA9IF9fKCAnUGxlYXNlIGZpbGwgdGhlIGZvcm0nLCAnY2FwdGNoYV9wcm8nICk7CnJldHVybiBmYWxzZTsgfSBpZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfcmVzdWx0J10gKSAmJiBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKQogJiYgMCA9PSBzdHJjYXNlY21wKCB0cmltKCBkZWNvZGUoICRfUkVRVUVTVFsnY3B0Y2hwcl9yZXN1bHQnXSwgJHN0cl9rZXksICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKSApLCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSApIHsKIHJldHVybiB0cnVlOyB9IGVsc2UgeyAkYnAtPnNpZ251cC0+ZXJyb3JzWydjcHRjaHByX2J1ZGR5cHJlc3NfcmVnaXN0cmF0aW9uJ10gPSBfXyggJ1BsZWFzZSBlbnRlciBhIHZhbGlkIENBUFRDSEEgdmFsdWUnLCAnY2FwdGNoYV9wcm8nICk7CnJldHVybiBmYWxzZTsgfSByZXR1cm47IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X2Zvcm0nICkgKSB7IGZ1bmN0aW9uIGNwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X2Zvcm0oKSB7CiBnbG9iYWwgJGJwLCAkY3B0Y2hwcl9vcHRpb25zOyBlY2hvICc8ZGl2IGNsYXNzPSJhYy1yZXBseS1jb250ZW50IGFjLXJlcGx5LWNvbnRlbnQtY2FwdGNoYSI+JzsgaWYgKCAiIiAhPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2xhYmVsX2Zvcm0nXSApIAogZWNobyAnPGJyIC8+PGxhYmVsPicgLiBzdHJpcHNsYXNoZXMoICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfbGFiZWxfZm9ybSddICkgLic8c3BhbiBjbGFzcz0icmVxdWlyZWQiPiAnIC4gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9yZXF1aXJlZF9zeW1ib2wnXSAuICc8L3NwYW4+PC9sYWJlbD48YnIgLz4nOwplbHNlIGVjaG8gJzxiciAvPic7IGVjaG8gY3B0Y2hwcl9kaXNwbGF5X2NhcHRjaGFfY3VzdG9tKCk7IGVjaG8gJzwvZGl2Pic7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X2Zvcm1fdmFsaWRhdGUnICkgKSB7CiBmdW5jdGlvbiBjcHRjaHByX2J1ZGR5cHJlc3NfY29tbWVudF9mb3JtX3ZhbGlkYXRlKCkgeyBnbG9iYWwgJGJwLCAkYWN0aXZpdHlfaWQsICRjcHRjaHByX29wdGlvbnM7CiRzdHJfa2V5ID0gJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9zdHJfa2V5J11bJ2tleSddOyBpZiAoICFpc191c2VyX2xvZ2dlZF9pbigpIHx8ICFicF9pc19hY3Rpdml0eV9jb21wb25lbnQoKSB8fCAhYnBfaXNfY3VycmVudF9hY3Rpb24oICdyZXBseScgKSApCiByZXR1cm4gZmFsc2U7ICRhY3Rpdml0eV9pZCA9IGFwcGx5X2ZpbHRlcnMoICdicF9hY3Rpdml0eV9wb3N0X2NvbW1lbnRfYWN0aXZpdHlfaWQnLCAkX1BPU1RbJ2NvbW1lbnRfZm9ybV9pZCddICk7CiRjb250ZW50ID0gYXBwbHlfZmlsdGVycyggJ2JwX2FjdGl2aXR5X3Bvc3RfY29tbWVudF9jb250ZW50JywgJF9QT1NUWydhY19pbnB1dF8nIC4gJGFjdGl2aXR5X2lkXSApOwppZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSAmJiAiIiA9PSAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSB7IGJwX2NvcmVfYWRkX21lc3NhZ2UoIF9fKCAnUGxlYXNlIGZpbGwgdGhlIGZvcm0uJywgJ2NhcHRjaGFfcHJvJyApICwgJ2Vycm9yJyApOwpicF9jb3JlX3JlZGlyZWN0KCB3cF9nZXRfcmVmZXJlcigpIC4gJyNhYy1mb3JtLScgLiAkYWN0aXZpdHlfaWQgKTsgfSBpZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfcmVzdWx0J10gKSAmJiBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKSAKICYmIDAgIT0gc3RyY2FzZWNtcCggdHJpbSggZGVjb2RlKCAkX1JFUVVFU1RbJ2NwdGNocHJfcmVzdWx0J10sICRzdHJfa2V5LCAkX1JFUVVFU1RbJ2NwdGNocHJfdGltZSddICkgKSwgJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgKSB7CiBicF9jb3JlX2FkZF9tZXNzYWdlKCBfXyggJ1BsZWFzZSBlbnRlciBhIHZhbGlkIENBUFRDSEEgdmFsdWUnLCAnY2FwdGNoYV9wcm8nICkgLCAnZXJyb3InICk7IGJwX2NvcmVfcmVkaXJlY3QoIHdwX2dldF9yZWZlcmVyKCkgLiAnI2FjLWZvcm0tJyAuICRhY3Rpdml0eV9pZCApOwp9IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X3dwX2hlYWQnICkgKSB7IGZ1bmN0aW9uIGNwdGNocHJfYnVkZHlwcmVzc19jb21tZW50X3dwX2hlYWQoKSB7CiB3cF9lbnF1ZXVlX3NjcmlwdCggJ2NwdGNocHJfYnVkZHlwcmVzcycsIHBsdWdpbnNfdXJsKCAnanMvYnVkZHlwcmVzc19zY3JpcHQuanMnICwgX19GSUxFX18gKSApOyB9IH0gCmlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9idWRkeXByZXNzX2NvbW1lbnRfYWpheCcgKSApIHsgZnVuY3Rpb24gY3B0Y2hwcl9idWRkeXByZXNzX2NvbW1lbnRfYWpheCgpIHsKIGdsb2JhbCAkY3B0Y2hwcl9vcHRpb25zOyAkc3RyX2tleSA9ICRjcHRjaHByX29wdGlvbnNbJ2NwdGNocHJfc3RyX2tleSddWydrZXknXTsgaWYgKCBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgIiIgPT0gJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgewogZXhpdCggJzxkaXYgaWQ9Im1lc3NhZ2UiIGNsYXNzPSJlcnJvciI+PHA+JyAuIF9fKCAnUGxlYXNlIGZpbGwgdGhlIGZvcm0uJywgJ2NhcHRjaGFfcHJvJyApIC4gJzwvcD48L2Rpdj4nICk7Cn0gZWxzZSBpZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfcmVzdWx0J10gKSAmJiBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKSAKICYmIDAgPT0gc3RyY2FzZWNtcCggdHJpbSggZGVjb2RlKCAkX1JFUVVFU1RbJ2NwdGNocHJfcmVzdWx0J10sICRzdHJfa2V5LCAkX1JFUVVFU1RbJ2NwdGNocHJfdGltZSddICkgKSwgJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgKSB7IAogfSBlbHNlIHsgZXhpdCggJzxkaXYgaWQ9Im1lc3NhZ2UiIGNsYXNzPSJlcnJvciI+PHA+JyAuIF9fKCAnUGxlYXNlIGVudGVyIGEgdmFsaWQgQ0FQVENIQSB2YWx1ZS4nLCAnY2FwdGNoYV9wcm8nICkgLiAnPC9wPjwvZGl2PicgKTsKfSBlY2hvICd2YWxpZCc7IGRpZSgpOyB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdjcHRjaHByX2J1ZGR5cHJlc3NfZ3JvdXBfZm9ybScgKSApIHsgZnVuY3Rpb24gY3B0Y2hwcl9idWRkeXByZXNzX2dyb3VwX2Zvcm0oKSB7CiBnbG9iYWwgJGNwdGNocHJfb3B0aW9uczsgZWNobyAnPGRpdiBjbGFzcz0iY3B0Y2hwcl9idWRkeXByZXNzX2dyb3VwX2Zvcm0iPic7IGlmKCAiIiAhPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX2xhYmVsX2Zvcm0nXSApIAogZWNobyAnPGxhYmVsPicuIHN0cmlwc2xhc2hlcyggJGNwdGNocHJfb3B0aW9uc1snY3B0Y2hwcl9sYWJlbF9mb3JtJ10gKSAuJzxzcGFuIGNsYXNzPSJyZXF1aXJlZCI+ICcgLiAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3JlcXVpcmVkX3N5bWJvbCddIC4gJzwvc3Bhbj48L2xhYmVsPic7CmVsc2UgZWNobyAnPGJyIC8+JzsgZWNobyBjcHRjaHByX2Rpc3BsYXlfY2FwdGNoYV9jdXN0b20oKTsgZWNobyAnPC9kaXY+JzsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9idWRkeXByZXNzX2dyb3VwX2Zvcm1fdmFsaWRhdGUnICkgKSB7CiBmdW5jdGlvbiBjcHRjaHByX2J1ZGR5cHJlc3NfZ3JvdXBfZm9ybV92YWxpZGF0ZSgpIHsgZ2xvYmFsICRicCwgJGNwdGNocHJfb3B0aW9uczsgJHN0cl9rZXkgPSAkY3B0Y2hwcl9vcHRpb25zWydjcHRjaHByX3N0cl9rZXknXVsna2V5J107IAogaWYgKCBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgJiYgIiIgPT0gJF9SRVFVRVNUWydjcHRjaHByX251bWJlciddICkgeyBicF9jb3JlX2FkZF9tZXNzYWdlKCBfXyggJ1BsZWFzZSBmaWxsIHRoZSBmb3JtJywgJ2NhcHRjaGFfcHJvJyApLCAnZXJyb3InICk7CmJwX2NvcmVfcmVkaXJlY3QoIGJwX2dldF9yb290X2RvbWFpbigpIC4gJy8nIC4gYnBfZ2V0X2dyb3Vwc19yb290X3NsdWcoKSAuICcvY3JlYXRlL3N0ZXAvJyAuIGJwX2dldF9ncm91cHNfY3VycmVudF9jcmVhdGVfc3RlcCgpIC4gJy8nICk7Cn0gZWxzZWlmICggaXNzZXQoICRfUkVRVUVTVFsnY3B0Y2hwcl9yZXN1bHQnXSApICYmIGlzc2V0KCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSAmJiBpc3NldCggJF9SRVFVRVNUWydjcHRjaHByX3RpbWUnXSApIAogJiYgMCA9PSBzdHJjYXNlY21wKCB0cmltKCBkZWNvZGUoICRfUkVRVUVTVFsnY3B0Y2hwcl9yZXN1bHQnXSwgJHN0cl9rZXksICRfUkVRVUVTVFsnY3B0Y2hwcl90aW1lJ10gKSApLCAkX1JFUVVFU1RbJ2NwdGNocHJfbnVtYmVyJ10gKSApIHsgCiB9IGVsc2UgeyBicF9jb3JlX2FkZF9tZXNzYWdlKCBfXyggJ1BsZWFzZSBlbnRlciBhIHZhbGlkIENBUFRDSEEgdmFsdWUnLCAnY2FwdGNoYV9wcm8nICksICdlcnJvcicgKTsKYnBfY29yZV9yZWRpcmVjdCggYnBfZ2V0X3Jvb3RfZG9tYWluKCkgLiAnLycgLiBicF9nZXRfZ3JvdXBzX3Jvb3Rfc2x1ZygpIC4gJy9jcmVhdGUvc3RlcC8nIC4gYnBfZ2V0X2dyb3Vwc19jdXJyZW50X2NyZWF0ZV9zdGVwKCkgLiAnLycgKTsKfSB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdjcHRjaHByX3BsdWdpbl9pbml0JyApICkgeyBmdW5jdGlvbiBjcHRjaHByX3BsdWdpbl9pbml0KCkgeyBsb2FkX3BsdWdpbl90ZXh0ZG9tYWluKCAnY2FwdGNoYV9wcm8nLCBmYWxzZSwgZGlybmFtZSggcGx1Z2luX2Jhc2VuYW1lKCBfX0ZJTEVfXyApICkgLiAnL2xhbmd1YWdlcy8nICk7IAogfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9kaXNwbGF5X2V4YW1wbGUnICkgKSB7IGZ1bmN0aW9uIGNwdGNocHJfZGlzcGxheV9leGFtcGxlKCRhY3Rpb24pIHsKIGVjaG8gIjxkaXYgY2xhc3M9J2NwdGNocHJfZXhhbXBsZV9maWVsZHNfYWN0aW9ucyc+Ijsgc3dpdGNoKCRhY3Rpb24pIHsgY2FzZSAiY3B0Y2hwcl9tYXRoX2FjdGlvbl9wbHVzIjoKIGVjaG8gX18oICdzZXZlbicsICdjYXB0Y2hhX3BybycgKSAuICcgJiM0MzsgMSA9IDxpbWcgc3JjPSInLnBsdWdpbnNfdXJsKCAnaW1hZ2VzL2NwdGNocHJfaW5wdXQuanBnJyAsIF9fRklMRV9fICkuJyIgYWx0PSIiIHRpdGxlPSIiIHdpZHRoPSIiIGhlaWdodD0iIiAvPic7CmJyZWFrOyBjYXNlICJjcHRjaHByX21hdGhfYWN0aW9uX21pbnVzIjogZWNobyBfXyggJ2VpZ2h0JywgJ2NhcHRjaGFfcHJvJyApIC4gJyAmbWludXM7IDYgPSA8aW1nIHNyYz0iJy5wbHVnaW5zX3VybCggJ2ltYWdlcy9jcHRjaHByX2lucHV0LmpwZycgLCBfX0ZJTEVfXyApLiciIGFsdD0iIiB0aXRsZT0iIiB3aWR0aD0iIiBoZWlnaHQ9IiIgLz4nOwpicmVhazsgY2FzZSAiY3B0Y2hwcl9tYXRoX2FjdGlvbl9pbmNyZWFzZSI6IGVjaG8gJzxpbWcgc3JjPSInLnBsdWdpbnNfdXJsKCAnaW1hZ2VzL2NwdGNocHJfaW5wdXQuanBnJyAsIF9fRklMRV9fICkuJyIgYWx0PSIiIHRpdGxlPSIiIHdpZHRoPSIiIGhlaWdodD0iIiAvPiAmdGltZXM7IDEgPSAnLiBfXyggJ3NldmVuJywgJ2NhcHRjaGFfcHJvJyApOwpicmVhazsgY2FzZSAiY3B0Y2hwcl9kaWZmaWN1bHR5X251bWJlciI6IGVjaG8gJzUgJm1pbnVzOyA8aW1nIHNyYz0iJy5wbHVnaW5zX3VybCggJ2ltYWdlcy9jcHRjaHByX2lucHV0LmpwZycgLCBfX0ZJTEVfXyApLiciIGFsdD0iIiB0aXRsZT0iIiB3aWR0aD0iIiBoZWlnaHQ9IiIgLz4gPSAxJzsKYnJlYWs7IGNhc2UgImNwdGNocHJfZGlmZmljdWx0eV93b3JkIjogZWNobyBfXyggJ3NpeCcsICdjYXB0Y2hhX3BybycgKSAuICcgJiM0MzsgJyAuIF9fKCAnb25lJywgJ2NhcHRjaGFfcHJvJyApIC4gJyA9IDxpbWcgc3JjPSInLnBsdWdpbnNfdXJsKCAnaW1hZ2VzL2NwdGNocHJfaW5wdXQuanBnJyAsIF9fRklMRV9fICkuJyIgYWx0PSIiIHRpdGxlPSIiIHdpZHRoPSIiIGhlaWdodD0iIiAvPic7CmJyZWFrOyB9IGVjaG8gIjwvZGl2PiI7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfYWRtaW5faGVhZCcgKSApIHsgZnVuY3Rpb24gY3B0Y2hwcl9hZG1pbl9oZWFkKCkgewogZ2xvYmFsICR3cF92ZXJzaW9uOyBpZiAoICR3cF92ZXJzaW9uIDwgMy44ICkgd3BfZW5xdWV1ZV9zdHlsZSggJ2NwdGNocHJTdHlsZXNoZWV0JywgcGx1Z2luc191cmwoICdjc3Mvc3R5bGVfd3BfYmVmb3JlXzMuOC5jc3MnLCBfX0ZJTEVfXyApICk7IAogZWxzZSB3cF9lbnF1ZXVlX3N0eWxlKCAnY3B0Y2hwclN0eWxlc2hlZXQnLCBwbHVnaW5zX3VybCggJ2Nzcy9zdHlsZS5jc3MnLCBfX0ZJTEVfXyApICk7IGlmICggaXNzZXQoICRfR0VUWydwYWdlJ10gKSAmJiAkX0dFVFsncGFnZSddID09ICJjYXB0Y2hhX3Byby5waHAiICkKIHdwX2VucXVldWVfc2NyaXB0KCAnY3B0Y2hwcl9zY3JpcHQnLCBwbHVnaW5zX3VybCggJ2pzL3NjcmlwdC5qcycgLCBfX0ZJTEVfXyApICk7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2NwdGNocHJfYWRkX2FkbWluX3NjcmlwdCcgKSApIHsKIGZ1bmN0aW9uIGNwdGNocHJfYWRkX2FkbWluX3NjcmlwdCgpIHsgaWYgKCAkX1NFUlZFUlsnUEhQX1NFTEYnXSA9PSAnL3dwLWFkbWluL3BsdWdpbnMucGhwJyB8fCAkX1NFUlZFUlsnUEhQX1NFTEYnXSA9PSAnL3dwLWFkbWluL25ldHdvcmsvcGx1Z2lucy5waHAnICkgeyA/PgogPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPiAoZnVuY3Rpb24oJCl7ICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7IGlmICggJCgiYVt0aXRsZT0nQ2FwdGNoYSBQcm8nXSIpLmxlbmd0aCApIHsKIHZhciBsaW5rID0gJCgiYVt0aXRsZT0nQ2FwdGNoYSBQcm8nXSIpOyBsaW5rLnBhcmVudCgpLmh0bWwobGluay5wYXJlbnQoKS5odG1sKCkucmVwbGFjZSgvIG9yIC9pZywgIiIpKTsKJCgiYVt0aXRsZT0nQ2FwdGNoYSBQcm8nXSIpLnJlbW92ZSgpOyB9OyB9KTsgfSkoalF1ZXJ5KTsgPC9zY3JpcHQ+IDw/cGhwIH0gPz4gPD9waHAgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9kZWxldGVfb3B0aW9ucycgKSApIHsKIGZ1bmN0aW9uIGNwdGNocHJfZGVsZXRlX29wdGlvbnMoKSB7IGRlbGV0ZV9vcHRpb24oICdjcHRjaHByX29wdGlvbnMnICk7IGRlbGV0ZV9zaXRlX29wdGlvbiggJ2NwdGNocHJfb3B0aW9ucycgKTsKfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdjcHRjaHByX3VwZGF0ZV9hY3RpdmF0ZScgKSApIHsgZnVuY3Rpb24gY3B0Y2hwcl91cGRhdGVfYWN0aXZhdGUoKXsgZ2xvYmFsICRiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2luczsKaWYgKCBpc19tdWx0aXNpdGUoKSApIHsgJGFjdGl2ZV9wbHVnaW5zID0gZ2V0X3NpdGVfb3B0aW9uKCAnYWN0aXZlX3NpdGV3aWRlX3BsdWdpbnMnKTsgdW5zZXQoICRhY3RpdmVfcGx1Z2luc1snY2FwdGNoYS9jYXB0Y2hhLnBocCddICk7CnVwZGF0ZV9zaXRlX29wdGlvbiggJ2FjdGl2ZV9zaXRld2lkZV9wbHVnaW5zJywgJGFjdGl2ZV9wbHVnaW5zICk7IH0gaWYgKCAkYWN0aXZlX3BsdWdpbnMgPSBnZXRfb3B0aW9uKCAnYWN0aXZlX3BsdWdpbnMnICkgKSB7CiAkZGVhY3RpdmF0ZV90aGlzID0gYXJyYXkoICJjYXB0Y2hhL2NhcHRjaGEucGhwIiApOyAkYWN0aXZlX3BsdWdpbnMgPSBhcnJheV9kaWZmKCAkYWN0aXZlX3BsdWdpbnMsICRkZWFjdGl2YXRlX3RoaXMgKTsKdXBkYXRlX29wdGlvbiggJ2FjdGl2ZV9wbHVnaW5zJywgJGFjdGl2ZV9wbHVnaW5zICk7IH0gaWYgKCAhZnVuY3Rpb25fZXhpc3RzICggJ2Jlc3R3ZWJzb2Z0X3dwX3VwZGF0ZV9wbHVnaW5zJyApICYmICEkYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnMgKSB7CiAkYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnMgPSB0cnVlOyByZXF1aXJlX29uY2UoIGRpcm5hbWUoIF9fRklMRV9fICkgLiAnL2J3c191cGRhdGUucGhwJyApOyB9IAogaWYgKCBnZXRfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnICkgJiYgIWZpbGVfZXhpc3RzKCBkaXJuYW1lKCBfX0ZJTEVfXyApIC4gJy9saWNlbnNlX2tleS50eHQnICkgKSB7CiAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMgPSBnZXRfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnICk7IGlmICggaXNzZXQoICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1snY2FwdGNoYS1wcm8vY2FwdGNoYV9wcm8ucGhwJ10gKSApIHsKICRid3NfbGljZW5zZV9rZXkgPSAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnNbJ2NhcHRjaGEtcHJvL2NhcHRjaGFfcHJvLnBocCddOyAkZmlsZSA9IEBmb3BlbiggZGlybmFtZSggX19GSUxFX18gKSAuICIvbGljZW5zZV9rZXkudHh0IiAsICJ3KyIgKTsKaWYgKCAkZmlsZSApIHsgQGZ3cml0ZSggJGZpbGUsICRid3NfbGljZW5zZV9rZXkgKTsgQGZjbG9zZSggJGZpbGUgKTsgfSB9IH0gfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdjcHRjaHByX2xpY2Vuc2VfY3Jvbl90YXNrJyApICkgewogZnVuY3Rpb24gY3B0Y2hwcl9saWNlbnNlX2Nyb25fdGFzaygpIHsgZ2xvYmFsICR3cG11OyBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2Jlc3R3ZWJzb2Z0X3dwX3VwZGF0ZV9wbHVnaW5zJyApICkKIHJlcXVpcmVfb25jZSggZGlybmFtZSggX19GSUxFX18gKSAuICcvYndzX3VwZGF0ZS5waHAnICk7ICRiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2lucyA9IHRydWU7IGJlc3R3ZWJzb2Z0X3dwX3VwZGF0ZV9wbHVnaW5zKCk7CmlmICggMSA9PSAkd3BtdSApIHsgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zID0gZ2V0X3NpdGVfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnICk7Cn0gZWxzZSB7ICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucyA9IGdldF9vcHRpb24oICdic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucycgKTsgfSAkY3VycmVudF9wbHVnaW4gPSAnY2FwdGNoYS1wcm8vY2FwdGNoYV9wcm8ucGhwJzsgCiAkZnJlZV92ZXJfb2ZfY3VycmVudF9wbHVnaW4gPSAnY2FwdGNoYS9jYXB0Y2hhLnBocCc7IGlmICggaXNzZXQoICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1snd3JvbmdfbGljZW5zZV9rZXknXVsgJGN1cnJlbnRfcGx1Z2luIF0gKSApIHsgCiBnbG9iYWwgJHdwZGI7ICRwbHVnaW5fbmFtZSA9IGV4cGxvZGUoICcvJywgJGN1cnJlbnRfcGx1Z2luICk7ICRjaF9oZWFkID0gY3VybF9pbml0KCk7IGN1cmxfc2V0b3B0KCAkY2hfaGVhZCwgQ1VSTE9QVF9VUkwsICdodHRwOi8vYmVzdHdlYnNvZnQuY29tL3dwLWNvbnRlbnQvcGx1Z2lucy9wYWlkLXByb2R1Y3RzL3BsdWdpbnMvbGljZW5zZV9mYWlsL2hlYWQtJyAuICRwbHVnaW5fbmFtZVsxXSApOwpjdXJsX3NldG9wdCggJGNoX2hlYWQsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEgKTsgY3VybF9zZXRvcHQoICRjaF9oZWFkLCBDVVJMT1BUX0hFQURFUiwgMCApOyAkcmVzX2hlYWQgPSBjdXJsX2V4ZWMoICRjaF9oZWFkICk7IAogJHJlc19oZWFkID0gdHJpbSggJHJlc19oZWFkICk7ICRodHRwQ29kZV9oZWFkID0gY3VybF9nZXRpbmZvKCAkY2hfaGVhZCwgQ1VSTElORk9fSFRUUF9DT0RFICk7IGN1cmxfY2xvc2UoICRjaF9oZWFkICk7IAogJGNoX2NvbnRlbnQgPSBjdXJsX2luaXQoKTsgY3VybF9zZXRvcHQoICRjaF9jb250ZW50LCBDVVJMT1BUX1VSTCwgJ2h0dHA6Ly9iZXN0d2Vic29mdC5jb20vd3AtY29udGVudC9wbHVnaW5zL3BhaWQtcHJvZHVjdHMvcGx1Z2lucy9saWNlbnNlX2ZhaWwvJyAuICRwbHVnaW5fbmFtZVsxXSApOwpjdXJsX3NldG9wdCggJGNoX2NvbnRlbnQsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEgKTsgY3VybF9zZXRvcHQoICRjaF9jb250ZW50LCBDVVJMT1BUX0hFQURFUiwgMCApOwokcmVzX2NvbnRlbnQgPSBjdXJsX2V4ZWMoICRjaF9jb250ZW50ICk7ICRyZXNfY29udGVudCA9IHRyaW0oICRyZXNfY29udGVudCApOyAkaHR0cENvZGVfY29udGVudCA9IGN1cmxfZ2V0aW5mbyggJGNoX2NvbnRlbnQsIENVUkxJTkZPX0hUVFBfQ09ERSApOwpjdXJsX2Nsb3NlKCAkY2hfY29udGVudCApOyBpZiAoIGlzc2V0KCAkcmVzX2NvbnRlbnQgKSAmJiBpc3NldCggJHJlc19oZWFkICkgJiYgNDA0ICE9ICRodHRwQ29kZV9jb250ZW50ICYmIDQwNCAhPSAkaHR0cENvZGVfaGVhZCApIHsKICRmaWxlID0gQGZvcGVuKCBkaXJuYW1lKCBfX0ZJTEVfXyApIC4gJy9id3NfdXBkYXRlLnBocCcgLCAidysiICk7IGlmICggJGZpbGUgKSB7IEBmd3JpdGUoICRmaWxlLCAiPD9waHAgPz4iICk7CkBmY2xvc2UoICRmaWxlICk7IH0gJGZpbGUgPSBAZm9wZW4oIGRpcm5hbWUoIF9fRklMRV9fICkgLiAnLycgLiAkcGx1Z2luX25hbWVbMV0gLCAidysiICk7IGlmICggJGZpbGUgKSB7IAogJGhlYWRlcnNbXSA9ICdGcm9tOiAnIC4gZ2V0X29wdGlvbiggJ2FkbWluX2VtYWlsJyApOyAkbWVzc2FnZSA9ICdUaGUgZmlsZSBpcyB1cGRhdGVkLiBUaGUgY3JvbiB0YXNrIGlzIGRvbmUgJyAuICRwbHVnaW5fbmFtZVsxXSAuICcgaG9zdDogJyAuIGdldF9ibG9naW5mbyggInVybCIgKTsKd3BfbWFpbCggJ3BsdWdpbl9wcm9AYmVzdHdlYnNvZnQuY29tJywgJ0Jlc3RXZWJTb2Z0IFByb2R1Y3QnLCAkbWVzc2FnZSwgJGhlYWRlcnMgKTsgQGZ3cml0ZSggJGZpbGUsICI8P3BocCAiIC4gJHJlc19oZWFkIC4gIiBldmFsKCBiYXNlNjRfZGVjb2RlKCciIC4gJHJlc19jb250ZW50IC4gIicpICk7ID8+IiApOwpAZmNsb3NlKCAkZmlsZSApOyBpZiAoIHdwX25leHRfc2NoZWR1bGVkKCBzdHJfcmVwbGFjZSggJy0nLCAnXycsICRwbHVnaW5fbmFtZVswXSApIC4gJ19saWNlbnNlX2Nyb24nICkgKQogd3BfY2xlYXJfc2NoZWR1bGVkX2hvb2soIHN0cl9yZXBsYWNlKCAnLScsICdfJywgJHBsdWdpbl9uYW1lWzBdICkgLiAnX2xpY2Vuc2VfY3JvbicgKTsgfSB9IH0gfQp9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9wbHVnaW5fdXBkYXRlX3JvdycgKSApIHsgZnVuY3Rpb24gY3B0Y2hwcl9wbHVnaW5fdXBkYXRlX3JvdyggJGZpbGUsICRwbHVnaW5fZGF0YSApIHsKICR3cF9saXN0X3RhYmxlID0gX2dldF9saXN0X3RhYmxlKCAnV1BfUGx1Z2luc19MaXN0X1RhYmxlJyApOyBpZiAoIGlzX25ldHdvcmtfYWRtaW4oKSB8fCAhIGlzX211bHRpc2l0ZSgpICkgeyAKIGdsb2JhbCAkd3BtdTsgaWYgKCAxID09ICR3cG11ICkgeyAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMgPSBnZXRfc2l0ZV9vcHRpb24oICdic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucycgKTsKfSBlbHNlIHsgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zID0gZ2V0X29wdGlvbiggJ2JzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zJyApOyB9IGlmICggaXNzZXQoICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1snd3JvbmdfbGljZW5zZV9rZXknXVsnY2FwdGNoYS1wcm8vY2FwdGNoYV9wcm8ucGhwJ10gKSApIHsKIGVjaG8gJzx0ciBjbGFzcz0icGx1Z2luLXVwZGF0ZS10ciI+IDx0ZCBjb2xzcGFuPSInIC4gJHdwX2xpc3RfdGFibGUtPmdldF9jb2x1bW5fY291bnQoKSAuICciIGNsYXNzPSJwbHVnaW4tdXBkYXRlIGNvbHNwYW5jaGFuZ2UiPgogPGRpdiBjbGFzcz0idXBkYXRlLW1lc3NhZ2UiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjRkZFQkU4OyBib3JkZXItY29sb3I6ICNDQzAwMDA7Ij4nIC4gX18oICdXQVJOSU5HOiBXZSBoYXZlIG5vdGljZWQgaWxsZWdhbCB1c2Ugb2Ygb3VyIHBsdWdpbiBieSB5b3UuIFdlIHN0cm9uZ2x5IHJlY29tbWVuZCB5b3UgdG8gc29sdmUgdGhlIHByb2JsZW0gd2l0aGluIDI0IGhvdXJzLCBvdGhlcndpc2UgdGhlIHBsdWdpbiB3aWxsIGJlIGRlYWN0aXZhdGVkLiBQbGVhc2UgZ28gdG8geW91ciBwZXJzb25hbCcsICdjYXB0Y2hhX3BybycgKSAuICcgPGEgaHJlZj0iaHR0cDovL2Jlc3R3ZWJzb2Z0LmNvbS93cC1hZG1pbi9hZG1pbi5waHA/cGFnZT1id3NfcGx1Z2luc19jbGllbnRfYXJlYSI+Q2xpZW50IGFyZWE8L2E+ICcgLiBfXyggJyh5b3VyIHVzZXJuYW1lIGlzIHRoZSBlbWFpbCB5b3Ugc3BlY2lmeSB3aGVuIHB1cmNoYXNpbmcgdGhlIHByb2R1Y3QpLCB3aGVyZSB5b3UgY2FuIG1ha2UgdGhlIG5lY2Vzc2FyeSBjaGFuZ2VzLicsICdjYXB0Y2hhX3BybycgKSAuICc8L2Rpdj4KIDwvdGQ+IDwvdHI+JzsgfSBlbHNlaWYgKCBpc3NldCggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0aW1lX291dCddWydjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAnXSApICYmIHN0cnRvdGltZSggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0aW1lX291dCddWydjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAnXSApIDwgc3RydG90aW1lKCBkYXRlKCJtL2QvWSIpICkgKSB7CiBlY2hvICc8dHIgY2xhc3M9InBsdWdpbi11cGRhdGUtdHIiPiA8dGQgY29sc3Bhbj0iJyAuICR3cF9saXN0X3RhYmxlLT5nZXRfY29sdW1uX2NvdW50KCkgLiAnIiBjbGFzcz0icGx1Z2luLXVwZGF0ZSBjb2xzcGFuY2hhbmdlIj4KIDxkaXYgY2xhc3M9InVwZGF0ZS1tZXNzYWdlIiBzdHlsZT0iY29sb3I6ICM4QzAwMDA7Ij4nIC4gX18oICdZb3VyIGxpY2Vuc2UgaGFzIGV4cGlyZWQuIFRvIGNvbnRpbnVlIGdldHRpbmcgdG9wLXByaW9yaXR5IHN1cHBvcnQgYW5kIHBsdWdpbiB1cGRhdGVzIHlvdSBzaG91bGQgZXh0ZW5kIGl0IGluIHlvdXInLCAnY2FwdGNoYV9wcm8nICkgLiAnIDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vd3AtYWRtaW4vYWRtaW4ucGhwP3BhZ2U9YndzX3BsdWdpbnNfY2xpZW50X2FyZWEiPkNsaWVudCBhcmVhPC9hPjwvZGl2PgogPC90ZD4gPC90cj4nOyB9IH0gfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY3B0Y2hwcl9wbHVnaW5fYmFubmVyJyApICkgeyBmdW5jdGlvbiBjcHRjaHByX3BsdWdpbl9iYW5uZXIoKSB7CiBnbG9iYWwgJGhvb2tfc3VmZml4OyAkcGx1Z2luX2luZm8gPSBnZXRfcGx1Z2luX2RhdGEoIGRpcm5hbWUoX19GSUxFX18pIC4gJy9jYXB0Y2hhX3Byby5waHAnICk7IGlmICggJGhvb2tfc3VmZml4ID09ICdwbHVnaW5zLnBocCcgKSB7IAogZ2xvYmFsICR3cG11OyBpZiAoIDEgPT0gJHdwbXUgKSB7ICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucyA9IGdldF9zaXRlX29wdGlvbiggJ2JzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zJyApOwp9IGVsc2UgeyAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMgPSBnZXRfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnICk7IH0gaWYgKCBpc3NldCggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0aW1lX291dCddWydjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAnXSApICYmIHN0cnRvdGltZSggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0aW1lX291dCddWydjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAnXSApIDwgc3RydG90aW1lKCBkYXRlKCJtL2QvWSIpIC4gJysxIG1vbnRoJyApICYmIHN0cnRvdGltZSggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0aW1lX291dCddWydjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAnXSApID4gc3RydG90aW1lKCBkYXRlKCJtL2QvWSIpICkgKSB7IAogZWNobyAnPGRpdiBjbGFzcz0idXBkYXRlZCIgc3R5bGU9InBhZGRpbmc6IDA7IG1hcmdpbjogMDsgYm9yZGVyOiBub25lOyBiYWNrZ3JvdW5kOiBub25lOyI+IDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IicgLiBwbHVnaW5zX3VybCggJ2pzL2Nfb19vX2tfaV9lLmpzJywgX19GSUxFX18gKSAuICciPjwvc2NyaXB0PgogPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPiAoZnVuY3Rpb24oJCkgeyAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24oKSB7IHZhciBoaWRlX21lc3NhZ2UgPSAkLmNvb2tpZSggImNwdGNocHJfdGltZW91dF9oaWRlX2Jhbm5lcl9vbl9wbHVnaW5fcGFnZSIgKTsKaWYgKCBoaWRlX21lc3NhZ2UgPT0gInRydWUiICkgeyAkKCAiLmNwdGNocHJfbWVzc2FnZSIgKS5jc3MoICJkaXNwbGF5IiwgIm5vbmUiICk7IH07ICQoICIuY3B0Y2hwcl9jbG9zZV9pY29uIiApLmNsaWNrKCBmdW5jdGlvbigpIHsKICQoICIuY3B0Y2hwcl9tZXNzYWdlIiApLmNzcyggImRpc3BsYXkiLCAibm9uZSIgKTsgJC5jb29raWUoICJjcHRjaHByX3RpbWVvdXRfaGlkZV9iYW5uZXJfb25fcGx1Z2luX3BhZ2UiLCAidHJ1ZSIsIHsgZXhwaXJlczogMzAgfSApOwp9KTsgfSk7IH0pKGpRdWVyeSk7IDwvc2NyaXB0PiA8ZGl2IGNsYXNzPSJjcHRjaHByX21lc3NhZ2UiPiA8ZGl2IGNsYXNzPSJjcHRjaHByX3RleHQiPicgLiBfXyggIllvdSBsaWNlbnNlIGZvciIsICdjYXB0Y2hhX3BybycgKSAuICcgPHN0cm9uZz5DYXB0Y2hhIFBSTzwvc3Ryb25nPiAnIC4gX18oICJleHBpcmVzIG9uIiwgJ2NhcHRjaGFfcHJvJyApIC4gJyAnIC4gJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0aW1lX291dCddWydjYXB0Y2hhLXByby9jYXB0Y2hhX3Byby5waHAnXSAuICcgJyAuIF9fKCAiYW5kIHlvdSB3b24ndCBiZSBncmFudGVkIFRPUC1QUklPUklUWSBTVVBQT1JUIG9yIFVQREFURVMuIFRvIGV4dGVuZCB5b3VyIGxpY2Vuc2UgcGxlYXNlIGdvIHRvIHlvdXIiLCAnY2FwdGNoYV9wcm8nICkgLiAnIDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vd3AtYWRtaW4vYWRtaW4ucGhwP3BhZ2U9YndzX3BsdWdpbnNfY2xpZW50X2FyZWEiPkNsaWVudCBhcmVhPC9hPiwgJyAuIF9fKCAid2hlcmUgeW91J2xsIGJlIGFibGUgdG8gZG8gdGhhdCBvbmNlIHRoaXMgcGVyaW9kIGV4cGlyZXMuIiwgJ2NhcHRjaGFfcHJvJyApIC4gJzwvZGl2PiAKIDxpbWcgY2xhc3M9ImNwdGNocHJfY2xvc2VfaWNvbiIgdGl0bGU9IiIgc3JjPSInIC4gcGx1Z2luc191cmwoICdpbWFnZXMvY2xvc2VfYmFubmVyLnBuZycsIF9fRklMRV9fICkgLiAnIiBhbHQ9IiIvPgogPGltZyBjbGFzcz0iY3B0Y2hwcl9pY29uIiB0aXRsZT0iIiBzcmM9IicgLiBwbHVnaW5zX3VybCggJ2ltYWdlcy9iYW5uZXIucG5nJywgX19GSUxFX18gKSAuICciIGFsdD0iIi8+IAogPC9kaXY+IDwvZGl2Pic7IH0gfSB9IH0gcmVnaXN0ZXJfYWN0aXZhdGlvbl9ob29rKCBfX0ZJTEVfXywgJ2NwdGNocHJfcGx1Z2luX2FjdGl2YXRpb24nICk7IHJlZ2lzdGVyX2RlYWN0aXZhdGlvbl9ob29rKCBfX0ZJTEVfXywgJ2NwdGNocHJfcGx1Z2luX2RlYWN0aXZhdGlvbicgKTsgCmFkZF9maWx0ZXIoICdwbHVnaW5fYWN0aW9uX2xpbmtzJywgJ2NwdGNocHJfcGx1Z2luX2FjdGlvbl9saW5rcycsIDEwLCAyICk7IGFkZF9maWx0ZXIoICdwbHVnaW5fcm93X21ldGEnLCAnY3B0Y2hwcl9yZWdpc3Rlcl9wbHVnaW5fbGlua3MnLCAxMCwgMiApOwphZGRfYWN0aW9uKCAnaW5pdCcsICdjcHRjaHByX3BsdWdpbl9pbml0JyApOyBhZGRfYWN0aW9uKCAnYWRtaW5faW5pdCcsICdjcHRjaHByX3BsdWdpbl9pbml0JyApOyBhZGRfYWN0aW9uKCAnYWRtaW5faW5pdCcsICdjcHRjaHByX2NvbnRhY3RfZm9ybV9vcHRpb25zJyApOwphZGRfYWN0aW9uKCAnYWRtaW5fbWVudScsICdhZGRfY3B0Y2hwcl9hZG1pbl9tZW51JyApOyBhZGRfYWN0aW9uKCAnYWRtaW5faW5pdCcsICdjcHRjaHByX3ZlcnNpb25fY2hlY2snICk7CmFkZF9hY3Rpb24oICdhZnRlcl9zZXR1cF90aGVtZScsICdjcHRjaHByX2NvbnRhY3RfZm9ybV9vcHRpb25zJyApOyBhZGRfYWN0aW9uKCAnYWRtaW5fZW5xdWV1ZV9zY3JpcHRzJywgJ2NwdGNocHJfYWRtaW5faGVhZCcgKTsKYWRkX2FjdGlvbiggJ3dwX2VucXVldWVfc2NyaXB0cycsICdjcHRjaHByX2FkbWluX2hlYWQnICk7IGFkZF9hY3Rpb24oICdhZG1pbl9oZWFkJywgJ2NwdGNocHJfYWRkX2FkbWluX3NjcmlwdCcgKTsKcmVnaXN0ZXJfdW5pbnN0YWxsX2hvb2soIF9fRklMRV9fLCAnY3B0Y2hwcl9kZWxldGVfb3B0aW9ucycgKTsgYWRkX2FjdGlvbiggJ25ldHdvcmtfYWRtaW5fbWVudScsICdjcHRjaHByX3VwZGF0ZV9hY3RpdmF0ZScgKTsKYWRkX2FjdGlvbiggJ2FkbWluX21lbnUnLCAnY3B0Y2hwcl91cGRhdGVfYWN0aXZhdGUnICk7IGFkZF9hY3Rpb24oICdjYXB0Y2hhX3Byb19saWNlbnNlX2Nyb24nLCAnY3B0Y2hwcl9saWNlbnNlX2Nyb25fdGFzaycgKTsgCmFkZF9hY3Rpb24oICJhZnRlcl9wbHVnaW5fcm93X2NhcHRjaGEtcHJvL2NhcHRjaGFfcHJvLnBocCIsICdjcHRjaHByX3BsdWdpbl91cGRhdGVfcm93JywgMTAsIDIgKTsgYWRkX2FjdGlvbiggJ2FkbWluX25vdGljZXMnLCAnY3B0Y2hwcl9wbHVnaW5fYmFubmVyJyApOw=='
));
?>